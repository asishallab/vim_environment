Fast Debugger (ruby-debug-ide 0.4.16, ruby-debug-base 0.10.4) listens on 127.0.0.1:39767
=> Booting Mongrel
=> Rails 3.0.3 application starting in development on http://0.0.0.0:3000
=> Call with -d to detach
=> Ctrl-C to shutdown server
In order to start the rufus/scheduler for sending out message-digests un-comment code in /Users/ah/projects/gsmMonitoring/config/initializers/mailing_scheduler.rb
Otherwise add a cron-job calling the api: curl -d "apikey=6f896e70-4da5-012e-09a5-00264a1ce8b2" http://hostname/api/process_message_queue


Started GET "/" for 127.0.0.1 at Fri Jul 13 11:50:55 +0200 2012
  Processing by SessionsController#new as HTML
  [1m[36mSQL (65.5ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mSQL (118.5ms)[0m  SHOW TABLES
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mClient Load (31.1ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (14.0ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (16.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (310.4ms)
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (2.3ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
Rendered sessions/new.html.erb within layouts/application (399.2ms)
Completed 200 OK in 736ms (Views: 394.9ms | ActiveRecord: 249.8ms)
DEPRECATION WARNING: Use toplevel init.rb; rails/init.rb is deprecated: /Users/ah/projects/gsmMonitoring/vendor/plugins/restful-authentication/rails/init.rb. (called from /Users/ah/projects/gsmMonitoring/config/environment.rb:5)
DEPRECATION WARNING: RAILS_ENV is deprecated. Please use ::Rails.env. (called from /Users/ah/projects/gsmMonitoring/config/initializers/mailer.rb:1)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)


Started GET "/monitorings" for 127.0.0.1 at Fri Jul 13 12:03:16 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by MonitoringsController#index as HTML
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.5ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
  [1m[35mMonitoring Load (0.6ms)[0m  SELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (compliance_officer_id = 26) AND (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) ORDER BY child_changed_at DESC, due_date, ref_no LIMIT 15 OFFSET 0
  [1m[36mMonitoring Load (3.0ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (compliance_officer_id = 26) AND (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) GROUP BY auditees.company_name ORDER BY child_changed_at DESC, due_date, ref_no[0m
  [1m[35mAuditee Load (2.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mAuditee Load (0.8ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 29) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (1.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.3ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (129.1ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 20 and c.created_at > '2012-07-08 10:03:16'
  [1m[36mResolutionProposal Count (0.4ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 20 and rp.updated_at > '2012-07-08 10:03:17'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 29) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 45) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 14 and c.created_at > '2012-07-08 10:03:17'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 14 and rp.updated_at > '2012-07-08 10:03:17'[0m
Rendered monitorings/_search_form.html.erb (2.2ms)
Rendered monitorings/_index.html.erb (318.9ms)
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.3ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (20.4ms)
Rendered monitorings/index.html.erb within layouts/application (373.2ms)
Completed 200 OK in 758ms (Views: 250.4ms | ActiveRecord: 144.3ms)


Started GET "/monitorings/20" for 127.0.0.1 at Fri Jul 13 12:03:25 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by MonitoringsController#show as HTML
  Parameters: {"id"=>"20"}
  [1m[35mSQL (2.7ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
  [1m[35mMonitoring Load (2.2ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1
Rendered monitorings/_search_form.html.erb (1.7ms)
  [1m[36mAuditee Load (0.6ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1
  [1m[36mNonConformity Load (0.5ms)[0m  [1mSELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.monitoring_id = 20)[0m
  [1m[35mResolutionProposal Load (0.4ms)[0m  SELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 45) LIMIT 1
  [1m[36mResolutionProposal Load (0.4ms)[0m  [1mSELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 47) LIMIT 1[0m
  [1m[35mComment Count (0.3ms)[0m  select count(nc.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where nc.id = 47 and c.created_at > '2012-07-08 10:03:26'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id where nc.id = 47 and rp.updated_at > '2012-07-08 10:03:26'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1
  [1m[36mComment Count (0.5ms)[0m  [1mselect count(nc.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where nc.id = 45 and c.created_at > '2012-07-08 10:03:26'[0m
  [1m[35mResolutionProposal Count (0.4ms)[0m  select count(rp.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id where nc.id = 45 and rp.updated_at > '2012-07-08 10:03:26'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1[0m
Rendered non_conformities/_index_table.html.erb (39.8ms)
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (39.6ms)
Rendered monitorings/show.html.erb within layouts/application (147.0ms)
Completed 200 OK in 445ms (Views: 158.1ms | ActiveRecord: 11.9ms)


Started GET "/monitorings/20/non_conformities/47" for 127.0.0.1 at Fri Jul 13 12:03:31 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#show as HTML
  Parameters: {"monitoring_id"=>"20", "id"=>"47"}
  [1m[36mSQL (34.7ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mMonitoring Load (0.3ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1[0m
  [1m[35mNonConformity Load (0.3ms)[0m  SELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.monitoring_id = 20) AND (`non_conformities`.`id` = 47) LIMIT 1
Rendered monitorings/_search_form.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM `non_conformity_attachments` WHERE (`non_conformity_attachments`.non_conformity_id = 47)
  [1m[36mResolutionProposal Load (0.4ms)[0m  [1mSELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 47) LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (57.7ms)
Rendered non_conformities/show.html.erb within layouts/application (225.8ms)
Completed 200 OK in 506ms (Views: 255.9ms | ActiveRecord: 39.7ms)


Started GET "/monitorings/20" for 127.0.0.1 at Fri Jul 13 12:03:35 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by MonitoringsController#show as HTML
  Parameters: {"id"=>"20"}
  [1m[36mSQL (2.8ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mMonitoring Load (0.3ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1[0m
Rendered monitorings/_search_form.html.erb (1.3ms)
  [1m[35mAuditee Load (0.5ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mNonConformity Load (0.5ms)[0m  SELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.monitoring_id = 20)
  [1m[36mResolutionProposal Load (0.5ms)[0m  [1mSELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 45) LIMIT 1[0m
  [1m[35mResolutionProposal Load (0.4ms)[0m  SELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 47) LIMIT 1
  [1m[36mComment Count (0.3ms)[0m  [1mselect count(nc.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where nc.id = 47 and c.created_at > '2012-07-08 10:03:36'[0m
  [1m[35mResolutionProposal Count (0.2ms)[0m  select count(rp.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id where nc.id = 47 and rp.updated_at > '2012-07-08 10:03:36'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(nc.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where nc.id = 45 and c.created_at > '2012-07-08 10:03:36'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id where nc.id = 45 and rp.updated_at > '2012-07-08 10:03:36'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1
Rendered non_conformities/_index_table.html.erb (39.5ms)
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.3ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.4ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (38.8ms)
Rendered monitorings/show.html.erb within layouts/application (148.2ms)
Completed 200 OK in 404ms (Views: 153.7ms | ActiveRecord: 9.7ms)


Started GET "/monitorings/20/non_conformities/new" for 127.0.0.1 at Fri Jul 13 12:03:43 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#new as HTML
  Parameters: {"monitoring_id"=>"20"}
  [1m[35mSQL (2.6ms)[0m  describe `roles_users`
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
  [1m[35mMonitoring Load (0.4ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1
Rendered monitorings/_search_form.html.erb (1.4ms)
  [1m[36mSQL (1.0ms)[0m  [1mSHOW TABLES[0m
  [1m[35mActsAsTaggableOn::Tag Load (28.1ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM `tags` JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM `taggings` INNER JOIN nc_templates ON nc_templates.id = taggings.taggable_id WHERE (taggings.taggable_type = 'NcTemplate' AND taggings.context = 'category') AND (taggings.taggable_id IN(SELECT nc_templates.id FROM `nc_templates`)) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
Rendered non_conformities/_nc_template_select.html.erb (1.0ms)
Rendered non_conformity_attachments/_form.html.erb (18.0ms)
Rendered non_conformities/_form.html.erb (186.2ms)
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_non_conformities_new_html_erb__2059334077_2308704200_0 at /Users/ah/projects/gsmMonitoring/app/views/non_conformities/new.html.erb:6)
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.3ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (61.5ms)
Rendered non_conformities/new.html.erb within layouts/application (410.7ms)
Completed 200 OK in 700ms (Views: 414.2ms | ActiveRecord: 35.9ms)


Started GET "/nc_templates/non_conformity_template_selector?nc_template_category=environment" for 127.0.0.1 at Fri Jul 13 12:03:47 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NcTemplatesController#non_conformity_template_selector as JS
  Parameters: {"nc_template_category"=>"environment"}
  [1m[35mSQL (1.6ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
***************
{"action"=>"non_conformity_template_selector", "nc_template_category"=>"environment", "controller"=>"nc_templates"}
  [1m[35mSQL (0.7ms)[0m  SHOW TABLES
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT `tags`.* FROM `tags` WHERE (name LIKE 'environment')[0m
  [1m[35mNcTemplate Load (0.5ms)[0m  SELECT `nc_templates`.* FROM `nc_templates` JOIN taggings nc_templates_taggings_environment_119 ON nc_templates_taggings_environment_119.taggable_id = nc_templates.id AND nc_templates_taggings_environment_119.taggable_type = 'NcTemplate' AND nc_templates_taggings_environment_119.tag_id = 1 ORDER BY identifier ASC
Rendered non_conformities/_nc_template_select.html.erb (30.9ms)
Completed 200 OK in 207ms (Views: 31.4ms | ActiveRecord: 3.9ms)


Started GET "/nc_templates/1.json" for 127.0.0.1 at Fri Jul 13 12:03:49 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NcTemplatesController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mSQL (2.6ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m
  [1m[35mNcTemplate Load (0.6ms)[0m  SELECT `nc_templates`.* FROM `nc_templates` WHERE (`nc_templates`.`id` = 1) LIMIT 1
Completed 200 OK in 114ms (Views: 11.4ms | ActiveRecord: 4.5ms)


Started POST "/monitorings/20/non_conformities" for 127.0.0.1 at Fri Jul 13 12:04:17 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#create as HTML
  Parameters: {"commit"=>"Create", "monitoring_id"=>"20", "nc_template_id"=>"1", "authenticity_token"=>"GqOxWU2KipXuY8Ye9W7zmmwFmzqtISBH5+j6vmr/pSM=", "utf8"=>"\342\234\223", "non_conformity"=>{"supplier"=>"janeintest", "corrective_actions_plan"=>"My corrective actions here\r\nziege\r\n", "description"=>"My description here\r\nschaf", "identifier"=>"Fire Supression"}, "nc_templates_category_sel"=>"environment"}
  [1m[36mSQL (2.7ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mMonitoring Load (0.6ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `non_conformities`[0m
  [1m[35mAREL (0.8ms)[0m  INSERT INTO `non_conformities` (`reminder_sent_at`, `description`, `due_date`, `failure_warning_sent_at`, `remediation_failure`, `monitoring_id`, `supplier`, `remediation_failure_date`, `identifier`, `updated_at`, `created_at`, `corrective_actions_plan`, `aasm_state`) VALUES (NULL, 'My description here\r\nschaf', NULL, NULL, NULL, 20, 'janeintest', NULL, 'Fire Supression', '2012-07-13 10:04:18', '2012-07-13 10:04:18', 'My corrective actions here\r\nziege\r\n', 'pending')
  [1m[36mActionLog Load (1.0ms)[0m  [1mSELECT `action_logs`.* FROM `action_logs` WHERE (`action_logs`.logged_id = NULL AND `action_logs`.logged_type = 'NonConformity')[0m
  [1m[35mSQL (2.3ms)[0m  describe `action_logs`
  [1m[36mAREL (0.7ms)[0m  [1mINSERT INTO `action_logs` (`user_id`, `created_at`, `logged_id`, `log_entry`, `logged_type`, `updated_at`) VALUES (41, '2012-07-13 10:04:18', 48, 'Created new NonConformity.', 'NonConformity', '2012-07-13 10:04:18')[0m
  [1m[35mMonitoring Load (0.4ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mdescribe `mon_child_act_logs`[0m
  [1m[35mAREL (0.5ms)[0m  INSERT INTO `mon_child_act_logs` (`updated_at`, `action_log_id`, `monitoring_id`, `created_at`) VALUES ('2012-07-13 10:04:18', 185, 20, '2012-07-13 10:04:18')
  [1m[36mAuditee Load (0.6ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1
  [1m[36mMessageQueue Load (0.9ms)[0m  [1mSELECT `message_queues`.* FROM `message_queues` WHERE (`message_queues`.`user_id` = 35) LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  describe `messages`
  [1m[36mAREL (0.5ms)[0m  [1mINSERT INTO `messages` (`message_queue_id`, `klass`, `updated_at`, `instance_id`, `created_at`) VALUES (3, 'Monitoring', '2012-07-13 10:04:18', 20, '2012-07-13 10:04:18')[0m
  [1m[35mMessageQueue Load (0.5ms)[0m  SELECT `message_queues`.`id` FROM `message_queues` WHERE (`message_queues`.`user_id` = 35) AND (`message_queues`.id <> 3) LIMIT 1
  [1m[36mComplianceOfficer Load (0.4ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  COMMIT
Redirected to http://localhost:3000/monitorings/20
Completed 302 Found in 710ms


Started GET "/monitorings/20" for 127.0.0.1 at Fri Jul 13 12:04:18 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by MonitoringsController#show as HTML
  Parameters: {"id"=>"20"}
  [1m[36mSQL (1.6ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mMonitoring Load (0.3ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1[0m
Rendered monitorings/_search_form.html.erb (1.3ms)
  [1m[35mAuditee Load (0.6ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mNonConformity Load (0.5ms)[0m  SELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.monitoring_id = 20)
  [1m[36mResolutionProposal Load (0.4ms)[0m  [1mSELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 45) LIMIT 1[0m
  [1m[35mResolutionProposal Load (0.4ms)[0m  SELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 47) LIMIT 1
  [1m[36mResolutionProposal Load (0.3ms)[0m  [1mSELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 48) LIMIT 1[0m
  [1m[35mComment Count (0.3ms)[0m  select count(nc.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where nc.id = 47 and c.created_at > '2012-07-08 10:04:19'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id where nc.id = 47 and rp.updated_at > '2012-07-08 10:04:19'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1
  [1m[36mComment Count (0.5ms)[0m  [1mselect count(nc.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where nc.id = 48 and c.created_at > '2012-07-08 10:04:19'[0m
  [1m[35mResolutionProposal Count (0.2ms)[0m  select count(rp.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id where nc.id = 48 and rp.updated_at > '2012-07-08 10:04:19'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(nc.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where nc.id = 45 and c.created_at > '2012-07-08 10:04:19'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id where nc.id = 45 and rp.updated_at > '2012-07-08 10:04:19'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1
Rendered non_conformities/_index_table.html.erb (51.7ms)
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.3ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.4ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (40.9ms)
Rendered monitorings/show.html.erb within layouts/application (163.7ms)
Completed 200 OK in 384ms (Views: 166.8ms | ActiveRecord: 9.6ms)


Started GET "/monitorings" for 127.0.0.1 at Fri Jul 13 12:04:56 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by MonitoringsController#index as HTML
  [1m[35mSQL (2.7ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mMonitoring Load (1.0ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (compliance_officer_id = 26) AND (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) ORDER BY child_changed_at DESC, due_date, ref_no LIMIT 15 OFFSET 0[0m
  [1m[35mMonitoring Load (2.4ms)[0m  SELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (compliance_officer_id = 26) AND (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) GROUP BY auditees.company_name ORDER BY child_changed_at DESC, due_date, ref_no
  [1m[36mAuditee Load (0.8ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1[0m
  [1m[35mAuditee Load (0.3ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 29) LIMIT 1
  [1m[36mComplianceOfficer Load (0.6ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.3ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers`[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mComment Count (0.5ms)[0m  [1mselect count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 20 and c.created_at > '2012-07-08 10:04:56'[0m
  [1m[35mResolutionProposal Count (0.3ms)[0m  select count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 20 and rp.updated_at > '2012-07-08 10:04:56'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 29) LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 45) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mComment Count (0.4ms)[0m  [1mselect count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 14 and c.created_at > '2012-07-08 10:04:56'[0m
  [1m[35mResolutionProposal Count (0.2ms)[0m  select count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 14 and rp.updated_at > '2012-07-08 10:04:56'
Rendered monitorings/_search_form.html.erb (1.4ms)
Rendered monitorings/_index.html.erb (33.6ms)
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.3ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (19.7ms)
Rendered monitorings/index.html.erb within layouts/application (87.2ms)
Completed 200 OK in 419ms (Views: 92.6ms | ActiveRecord: 13.6ms)


Started GET "/monitorings/new" for 127.0.0.1 at Fri Jul 13 12:04:58 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by MonitoringsController#new as HTML
  [1m[36mSQL (2.7ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
Rendered monitorings/_search_form.html.erb (1.3ms)
  [1m[36mAuditee Load (1.4ms)[0m  [1mSELECT `auditees`.`id` AS t0_r0, `auditees`.`user_id` AS t0_r1, `auditees`.`client_id` AS t0_r2, `auditees`.`company_name` AS t0_r3, `auditees`.`created_at` AS t0_r4, `auditees`.`updated_at` AS t0_r5, `auditees`.`partner_id` AS t0_r6, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`name` AS t1_r2, `users`.`email` AS t1_r3, `users`.`crypted_password` AS t1_r4, `users`.`salt` AS t1_r5, `users`.`created_at` AS t1_r6, `users`.`updated_at` AS t1_r7, `users`.`remember_token` AS t1_r8, `users`.`remember_token_expires_at` AS t1_r9, `users`.`cleartext_password` AS t1_r10, `users`.`salutation` AS t1_r11, `users`.`account_info_sent` AS t1_r12 FROM `auditees` LEFT OUTER JOIN `users` ON `users`.`id` = `auditees`.`user_id` ORDER BY company_name,users.login[0m
  [1m[35mComplianceOfficer Load (0.5ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
Rendered monitorings/_form.html.erb (84.2ms)
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.3ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (23.3ms)
Rendered monitorings/new.html.erb within layouts/application (156.0ms)
Completed 200 OK in 433ms (Views: 182.3ms | ActiveRecord: 7.8ms)


Started POST "/monitorings" for 127.0.0.1 at Fri Jul 13 12:06:01 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by MonitoringsController#create as HTML
  Parameters: {"commit"=>"Create", "authenticity_token"=>"GqOxWU2KipXuY8Ye9W7zmmwFmzqtISBH5+j6vmr/pSM=", "utf8"=>"\342\234\223", "monitoring"=>{"auditee_id"=>"20", "compliance_officer_id"=>"26", "remarks"=>"Té té o ovejé?", "audit_ref"=>"audit-ref-123", "notice_level"=>"3", "due_date"=>"08-09-2012"}}
  [1m[36mSQL (2.6ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mAuditee Load (0.6ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mComplianceOfficer Load (0.6ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  describe `monitorings`
  [1m[36mAREL (0.6ms)[0m  [1mINSERT INTO `monitorings` (`audit_ref`, `child_changed_at`, `status`, `notice_level`, `compliance_officer_id`, `created_at`, `due_date`, `auditee_id`, `updated_at`, `aasm_state`, `ref_no`, `remarks`) VALUES ('audit-ref-123', NULL, 'draft', 3, 26, '2012-07-13 10:06:02', '2012-09-08 00:00:00', 20, '2012-07-13 10:06:02', 'draft', NULL, 'Té té o ovejé?')[0m
  [1m[35mActionLog Load (0.6ms)[0m  SELECT `action_logs`.* FROM `action_logs` WHERE (`action_logs`.logged_id = NULL AND `action_logs`.logged_type = 'Monitoring')
  [1m[36mSQL (1.1ms)[0m  [1mdescribe `action_logs`[0m
  [1m[35mAREL (2.3ms)[0m  INSERT INTO `action_logs` (`logged_id`, `log_entry`, `logged_type`, `created_at`, `user_id`, `updated_at`) VALUES (23, 'Created new Monitoring.', 'Monitoring', '2012-07-13 10:06:02', 41, '2012-07-13 10:06:02')
  [1m[36mSQL (0.9ms)[0m  [1mROLLBACK[0m
Completed   in 325ms

TypeError (wrong argument type JSON::Pure::Generator::State (expected Data)):
  json_pure (1.5.3) lib/json/pure/generator.rb:321:in `to_json'
  json_pure (1.5.3) lib/json/pure/generator.rb:321:in `json_transform'
  json_pure (1.5.3) lib/json/pure/generator.rb:318:in `each'
  json_pure (1.5.3) lib/json/pure/generator.rb:318:in `json_transform'
  json_pure (1.5.3) lib/json/pure/generator.rb:305:in `to_json'
  json_pure (1.5.3) lib/json/pure/generator.rb:286:in `json_transform'
  json_pure (1.5.3) lib/json/pure/generator.rb:279:in `each'
  json_pure (1.5.3) lib/json/pure/generator.rb:279:in `json_transform'
  json_pure (1.5.3) lib/json/pure/generator.rb:261:in `to_json'
  app/models/action_log.rb:56:in `init_update_action_log'
  activesupport (3.0.3) lib/active_support/callbacks.rb:414:in `_run_update_callbacks'
  activerecord (3.0.3) lib/active_record/callbacks.rb:285:in `update'
  activerecord (3.0.3) lib/active_record/persistence.rb:246:in `create_or_update'
  activerecord (3.0.3) lib/active_record/callbacks.rb:277:in `create_or_update'
  activesupport (3.0.3) lib/active_support/callbacks.rb:428:in `_run_save_callbacks'
  activerecord (3.0.3) lib/active_record/callbacks.rb:277:in `create_or_update'
  activerecord (3.0.3) lib/active_record/persistence.rb:39:in `save'
  activerecord (3.0.3) lib/active_record/validations.rb:43:in `save'
  activerecord (3.0.3) lib/active_record/attribute_methods/dirty.rb:21:in `save'
  activerecord (3.0.3) lib/active_record/transactions.rb:237:in `save'
  activerecord (3.0.3) lib/active_record/transactions.rb:289:in `with_transaction_returning_status'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/database_statements.rb:139:in `transaction'
  activerecord (3.0.3) lib/active_record/transactions.rb:204:in `transaction'
  activerecord (3.0.3) lib/active_record/transactions.rb:287:in `with_transaction_returning_status'
  activerecord (3.0.3) lib/active_record/transactions.rb:237:in `save'
  activerecord (3.0.3) lib/active_record/transactions.rb:248:in `rollback_active_record_state!'
  activerecord (3.0.3) lib/active_record/transactions.rb:236:in `save'
  app/models/monitoring.rb:95:in `generate_ref_no'
  activesupport (3.0.3) lib/active_support/callbacks.rb:449:in `_run_create_callbacks'
  activerecord (3.0.3) lib/active_record/callbacks.rb:281:in `create'
  activerecord (3.0.3) lib/active_record/persistence.rb:246:in `create_or_update'
  activerecord (3.0.3) lib/active_record/callbacks.rb:277:in `create_or_update'
  activesupport (3.0.3) lib/active_support/callbacks.rb:428:in `_run_save_callbacks'
  activerecord (3.0.3) lib/active_record/callbacks.rb:277:in `create_or_update'
  activerecord (3.0.3) lib/active_record/persistence.rb:39:in `save'
  activerecord (3.0.3) lib/active_record/validations.rb:43:in `save'
  activerecord (3.0.3) lib/active_record/attribute_methods/dirty.rb:21:in `save'
  activerecord (3.0.3) lib/active_record/transactions.rb:237:in `save'
  activerecord (3.0.3) lib/active_record/transactions.rb:289:in `with_transaction_returning_status'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/database_statements.rb:139:in `transaction'
  activerecord (3.0.3) lib/active_record/transactions.rb:204:in `transaction'
  activerecord (3.0.3) lib/active_record/transactions.rb:287:in `with_transaction_returning_status'
  activerecord (3.0.3) lib/active_record/transactions.rb:237:in `save'
  activerecord (3.0.3) lib/active_record/transactions.rb:248:in `rollback_active_record_state!'
  activerecord (3.0.3) lib/active_record/transactions.rb:236:in `save'
  app/controllers/monitorings_controller.rb:101:in `create'
  actionpack (3.0.3) lib/action_controller/metal/mime_responds.rb:264:in `call'
  actionpack (3.0.3) lib/action_controller/metal/mime_responds.rb:264:in `retrieve_response_from_mimes'
  actionpack (3.0.3) lib/action_controller/metal/mime_responds.rb:191:in `respond_to'
  app/controllers/monitorings_controller.rb:100:in `create'
  actionpack (3.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (3.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (3.0.3) lib/abstract_controller/base.rb:151:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/rendering.rb:11:in `process_action'
  actionpack (3.0.3) lib/abstract_controller/callbacks.rb:18:in `process_action'
  activesupport (3.0.3) lib/active_support/callbacks.rb:445:in `_run__1341464942__process_action__1623385099__callbacks'
  activesupport (3.0.3) lib/active_support/callbacks.rb:409:in `send'
  activesupport (3.0.3) lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
  activesupport (3.0.3) lib/active_support/callbacks.rb:93:in `send'
  activesupport (3.0.3) lib/active_support/callbacks.rb:93:in `run_callbacks'
  actionpack (3.0.3) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activesupport (3.0.3) lib/active_support/notifications.rb:52:in `instrument'
  activesupport (3.0.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (3.0.3) lib/active_support/notifications.rb:52:in `instrument'
  actionpack (3.0.3) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/rescue.rb:17:in `process_action'
  actionpack (3.0.3) lib/abstract_controller/base.rb:120:in `process'
  actionpack (3.0.3) lib/abstract_controller/rendering.rb:40:in `process'
  actionpack (3.0.3) lib/action_controller/metal.rb:138:in `dispatch'
  actionpack (3.0.3) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.0.3) lib/action_controller/metal.rb:178:in `action'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:62:in `call'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:27:in `call'
  rack-mount (0.6.14) lib/rack/mount/route_set.rb:148:in `call'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:93:in `recognize'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:124:in `optimized_each'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:92:in `recognize'
  rack-mount (0.6.14) lib/rack/mount/route_set.rb:139:in `call'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:492:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/head.rb:14:in `call'
  rack (1.2.3) lib/rack/methodoverride.rb:24:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/flash.rb:182:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/cookies.rb:295:in `call'
  activerecord (3.0.3) lib/active_record/query_cache.rb:32:in `call'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
  activerecord (3.0.3) lib/active_record/query_cache.rb:12:in `cache'
  activerecord (3.0.3) lib/active_record/query_cache.rb:31:in `call'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:353:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/callbacks.rb:46:in `call'
  activesupport (3.0.3) lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
  actionpack (3.0.3) lib/action_dispatch/middleware/callbacks.rb:44:in `call'
  rack (1.2.3) lib/rack/sendfile.rb:107:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
  railties (3.0.3) lib/rails/rack/logger.rb:13:in `call'
  rack (1.2.3) lib/rack/runtime.rb:17:in `call'
  activesupport (3.0.3) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `synchronize'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/static.rb:30:in `call'
  railties (3.0.3) lib/rails/application.rb:168:in `call'
  railties (3.0.3) lib/rails/application.rb:77:in `send'
  railties (3.0.3) lib/rails/application.rb:77:in `method_missing'
  railties (3.0.3) lib/rails/rack/log_tailer.rb:14:in `call'
  rack (1.2.3) lib/rack/content_length.rb:13:in `call'
  rack (1.2.3) lib/rack/chunked.rb:15:in `call'
  rack (1.2.3) lib/rack/handler/mongrel.rb:67:in `process'
  mongrel (1.1.5) lib/mongrel.rb:159:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:158:in `each'
  mongrel (1.1.5) lib/mongrel.rb:158:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:285:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:285:in `new'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:268:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:268:in `new'
  mongrel (1.1.5) lib/mongrel.rb:268:in `run'
  rack (1.2.3) lib/rack/handler/mongrel.rb:38:in `run'
  rack (1.2.3) lib/rack/server.rb:217:in `start'
  railties (3.0.3) lib/rails/commands/server.rb:65:in `start'
  railties (3.0.3) lib/rails/commands.rb:30
  railties (3.0.3) lib/rails/commands.rb:27:in `tap'
  railties (3.0.3) lib/rails/commands.rb:27
  /script/rails:6:in `require'
  /script/rails:6
  ruby-debug-ide (0.4.16) lib/ruby-debug-ide.rb:112:in `debug_load'
  ruby-debug-ide (0.4.16) lib/ruby-debug-ide.rb:112:in `debug_program'
  ruby-debug-ide (0.4.16) bin/rdebug-ide:87
  /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19:in `load'
  /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19

Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (22.6ms)
Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (36.0ms)


Started POST "/monitorings" for 127.0.0.1 at Fri Jul 13 12:14:02 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by MonitoringsController#create as HTML
  Parameters: {"commit"=>"Create", "authenticity_token"=>"GqOxWU2KipXuY8Ye9W7zmmwFmzqtISBH5+j6vmr/pSM=", "utf8"=>"\342\234\223", "monitoring"=>{"auditee_id"=>"20", "compliance_officer_id"=>"26", "remarks"=>"Té té o ovejé?", "audit_ref"=>"audit-ref-123", "notice_level"=>"3", "due_date"=>"08-09-2012"}}
  [1m[35mSQL (2.9ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mAuditee Load (0.7ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.6ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `monitorings`[0m
  [1m[35mAREL (0.6ms)[0m  INSERT INTO `monitorings` (`aasm_state`, `remarks`, `due_date`, `audit_ref`, `created_at`, `auditee_id`, `updated_at`, `notice_level`, `child_changed_at`, `compliance_officer_id`, `status`, `ref_no`) VALUES ('draft', 'Té té o ovejé?', '2012-09-08 00:00:00', 'audit-ref-123', '2012-07-13 10:14:03', 20, '2012-07-13 10:14:03', 3, NULL, 26, 'draft', NULL)
  [1m[36mActionLog Load (0.6ms)[0m  [1mSELECT `action_logs`.* FROM `action_logs` WHERE (`action_logs`.logged_id = NULL AND `action_logs`.logged_type = 'Monitoring')[0m
  [1m[35mSQL (3.1ms)[0m  describe `action_logs`
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `action_logs` (`updated_at`, `log_entry`, `user_id`, `logged_type`, `created_at`, `logged_id`) VALUES ('2012-07-13 10:14:03', 'Created new Monitoring.', 41, 'Monitoring', '2012-07-13 10:14:03', 24)[0m
  [1m[35mAREL (0.5ms)[0m  UPDATE `monitorings` SET `aasm_state` = 'draft', `remarks` = 'Té té o ovejé?', `due_date` = '2012-09-08 00:00:00', `audit_ref` = 'audit-ref-123', `created_at` = '2012-07-13 10:14:03', `auditee_id` = 20, `updated_at` = '2012-07-13 10:14:03', `notice_level` = 3, `compliance_officer_id` = 26, `ref_no` = '20120713-24' WHERE (`monitorings`.`id` = 24)
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO `action_logs` (`updated_at`, `log_entry`, `user_id`, `logged_type`, `created_at`, `logged_id`) VALUES ('2012-07-13 10:14:03', '{\"auditee_id\":[null,20],\"remarks\":[null,\"Té té o ovejé?\"],\"compliance_officer_id\":[null,26],\"created_at\":[null,\"2012-07-13 10:14:03 UTC\"],\"aasm_state\":[null,\"draft\"],\"updated_at\":[null,\"2012-07-13 10:14:03 UTC\"],\"ref_no\":[null,\"20120713-24\"],\"id\":[null,24],\"audit_ref\":[null,\"audit-ref-123\"],\"due_date\":[null,\"2012-09-08 00:00:00 UTC\"],\"notice_level\":[null,3]}', 41, 'Monitoring', '2012-07-13 10:14:03', 24)[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/monitorings/24
Completed 302 Found in 360ms


Started GET "/monitorings/24" for 127.0.0.1 at Fri Jul 13 12:14:03 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by MonitoringsController#show as HTML
  Parameters: {"id"=>"24"}
  [1m[35mSQL (2.5ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
  [1m[35mMonitoring Load (0.5ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 24) LIMIT 1
Rendered monitorings/_search_form.html.erb (1.6ms)
  [1m[36mAuditee Load (0.7ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1
  [1m[36mNonConformity Load (1.1ms)[0m  [1mSELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.monitoring_id = 24)[0m
Rendered non_conformities/_index_table.html.erb (4.9ms)
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.3ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (42.6ms)
Rendered monitorings/show.html.erb within layouts/application (115.7ms)
Completed 200 OK in 354ms (Views: 121.4ms | ActiveRecord: 8.5ms)


Started GET "/" for 127.0.0.1 at Fri Jul 13 12:14:46 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by SessionsController#new as HTML
  [1m[36mSQL (2.7ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.4ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (55.1ms)
  [1m[35mSQL (1.3ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
Rendered sessions/new.html.erb within layouts/application (96.8ms)
Completed 200 OK in 305ms (Views: 103.4ms | ActiveRecord: 6.2ms)
DEPRECATION WARNING: Use toplevel init.rb; rails/init.rb is deprecated: /Users/ah/projects/gsmMonitoring/vendor/plugins/restful-authentication/rails/init.rb. (called from /Users/ah/projects/gsmMonitoring/config/environment.rb:5)
DEPRECATION WARNING: RAILS_ENV is deprecated. Please use ::Rails.env. (called from /Users/ah/projects/gsmMonitoring/config/initializers/mailer.rb:1)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mSQL (20.4ms)[0m  [1mSHOW TABLES[0m
  [1m[35mMonitoring Load (0.4ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 24) LIMIT 1
  [1m[36mSQL (32.0ms)[0m  [1mSHOW TABLES[0m
  [1m[35mNonConformity Load (0.5ms)[0m  SELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.`id` = 48) LIMIT 1
DEPRECATION WARNING: AuditeeReminderMail.deliver_auditee_reminder_email is deprecated, use AuditeeReminderMail.auditee_reminder_email.deliver instead. (called from perform at /Users/ah/projects/gsmMonitoring/app/models/auditee_reminder_job.rb:8)
  [1m[36mMonitoring Load (0.8ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1[0m
  [1m[35mAuditee Load (0.7ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1
DEPRECATION WARNING: Giving a hash to body is deprecated, please use instance variables instead. (called from process at /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionmailer-3.0.3/lib/action_mailer/old_api.rb:77)
Rendered auditee_reminder_mail/auditee_reminder_email.html.erb (0.7ms)

Sent mail to intertech18@intertech.de (1778ms)
Date: Fri, 13 Jul 2012 12:25:25 +0200
From: gsm-monitoring@gsm-consulting.net
To: intertech18@intertech.de
Message-ID: <4ffff795b9e7e_60985e2013c779bf@mbp3.local.mail>
Subject: [auditee1@customer.intetrech.de] Audition reminder
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p>
Dear Mr./Mrs , <br/> =

this is a reminder of a pending audition process where your action is req=
uired.
Please try to fix the following non-conformity:
</p>
<p>
  My description here
schaf
</p>

<p> Please visit the gsm Online Monitoring Platform
http://monitoring.gsm-consulting.net with your user-name auditee1to revie=
w the current status, posted comments and judgements on your
resolution proposals.</p>
<p> Please initiate the necessary remediation actions as soon as possible=
 and
follow the instructions given.
</p>
<p> Best regards,<br /> gsm<br /> <br /> Global Sustainable Management Gm=
bH<br
/> Friesenplatz 15<br /> D-50672 Koeln<br /> <br /> Tel: +49 221 5029490<=
br />
Fax: +49 221 50294929<br /> e-mail monitoring@gsm-consulting.net<br />
www.gsm-consulting.net<br /> Amtsgericht K&ouml;ln HRB 51553<br /> USt.-I=
D. DE
232 571 288<br /> Gesch&auml;ftsf&uuml;hrerin Birgit Karpa-Beuth<br /> <b=
r />
Please consider the environment before you print this email.<br />
</p>
<pre style=3D"font-size: 9pt;color: #767676"> Der Inhalt dieser E-Mail is=
t
ausschlie=C3=9Flich f=C3=BCr den bezeichneten Adressaten bestimmt. Wenn S=
ie nicht der
vorgesehene Adressat dieser E-Mail oder dessen Vertreter sein sollten, so=

beachten Sie bitte, dass jede Form der Kenntnisnahme, Ver&ouml;ffentlichu=
ng,
Vervielf&auml;ltigung oder Weitergabe des Inhalts dieser E-Mail unzul&aum=
l;ssig
ist. Wir bitten Sie, sich in diesem Fall mit dem Absender der E-Mail in
Verbindung zu setzen.
</pre>

<pre style=3D"font-size: 9pt;color: #767676"> The information contained h=
erein is
confidential and is intended solely for the addressee. Access by any othe=
r
party is unauthorised without the express written permission of the sende=
r. If
you are not the intended recipient, please contact the sender.
</pre>
  [1m[36mAREL (74.5ms)[0m  [1mUPDATE `non_conformities` SET reminder_sent_at = '2012-07-13 12:25:27' WHERE (id = 48)[0m
  [1m[35mNonConformity Load (0.5ms)[0m  SELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.`id` = 48) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mMonitoring Load (52.0ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1
DEPRECATION WARNING: Use toplevel init.rb; rails/init.rb is deprecated: /Users/ah/projects/gsmMonitoring/vendor/plugins/restful-authentication/rails/init.rb. (called from /Users/ah/projects/gsmMonitoring/config/environment.rb:5)
DEPRECATION WARNING: RAILS_ENV is deprecated. Please use ::Rails.env. (called from /Users/ah/projects/gsmMonitoring/config/initializers/mailer.rb:1)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mSQL (17.8ms)[0m  [1mSHOW TABLES[0m
  [1m[35mMonitoring Load (0.4ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 24) LIMIT 1
DEPRECATION WARNING: FailureWarningMail.deliver_failure_warning_email is deprecated, use FailureWarningMail.failure_warning_email.deliver instead. (called from irb_binding at (irb):1)
  [1m[36mAuditee Load (0.8ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
DEPRECATION WARNING: Giving a hash to body is deprecated, please use instance variables instead. (called from process at /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionmailer-3.0.3/lib/action_mailer/old_api.rb:77)
Rendered failure_warning_mail/failure_warning_email.html.erb (3.7ms)

Sent mail to intertech18@intertech.de (436ms)
Date: Fri, 13 Jul 2012 12:29:18 +0200
From: gsm-monitoring@gsm-consulting.net
To: intertech18@intertech.de
Message-ID: <4ffff87e3d919_66483fe693c2741@mbp3.local.mail>
Subject: [auditee1@customer.intetrech.de] Audition '20120713-24' Failure
 Imminent
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p>
Dear Mr./Mrs , <br/> this is a reminder of a pending audition process whe=
re
your action is <strong>urgently</strong> required as the monitoring 20120=
713-24 will <strong>fail</strong> at 2012-09-08 00:00:00 UTC.
</p>

<p> Please visit the gsm Online Monitoring Platform
http://monitoring.gsm-consulting.net with your user-name auditee1to revie=
w the current status, posted comments and judgements on your
resolution proposals.</p>
<p> Please initiate the necessary remediation actions as soon as possible=
 and
follow the instructions given for the monitoring-process: 20120713-24
</p>
<p> Best regards,<br /> gsm<br /> <br /> Global Sustainable Management Gm=
bH<br
/> Friesenplatz 15<br /> D-50672 Koeln<br /> <br /> Tel: +49 221 5029490<=
br />
Fax: +49 221 50294929<br /> e-mail monitoring@gsm-consulting.net<br />
www.gsm-consulting.net<br /> Amtsgericht K&ouml;ln HRB 51553<br /> USt.-I=
D. DE
232 571 288<br /> Gesch&auml;ftsf&uuml;hrerin Birgit Karpa-Beuth<br /> <b=
r />
Please consider the environment before you print this email.<br />
</p>
<pre style=3D"font-size: 9pt;color: #767676"> Der Inhalt dieser E-Mail is=
t
ausschlie=C3=9Flich f=C3=BCr den bezeichneten Adressaten bestimmt. Wenn S=
ie nicht der
vorgesehene Adressat dieser E-Mail oder dessen Vertreter sein sollten, so=

beachten Sie bitte, dass jede Form der Kenntnisnahme, Ver&ouml;ffentlichu=
ng,
Vervielf&auml;ltigung oder Weitergabe des Inhalts dieser E-Mail unzul&aum=
l;ssig
ist. Wir bitten Sie, sich in diesem Fall mit dem Absender der E-Mail in
Verbindung zu setzen.
</pre>

<pre style=3D"font-size: 9pt;color: #767676"> The information contained h=
erein is
confidential and is intended solely for the addressee. Access by any othe=
r
party is unauthorised without the express written permission of the sende=
r. If
you are not the intended recipient, please contact the sender.
</pre>
  [1m[35mMonitoring Load (0.5ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 24) LIMIT 1
DEPRECATION WARNING: Use toplevel init.rb; rails/init.rb is deprecated: /Users/ah/projects/gsmMonitoring/vendor/plugins/restful-authentication/rails/init.rb. (called from /Users/ah/projects/gsmMonitoring/config/environment.rb:5)
DEPRECATION WARNING: RAILS_ENV is deprecated. Please use ::Rails.env. (called from /Users/ah/projects/gsmMonitoring/config/initializers/mailer.rb:1)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mSQL (14.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (0.8ms)[0m  SHOW TABLES
  [1m[36mSQL (0.9ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
Migrating to CreateMonitorings (20090814080320)
Migrating to CreateNonConformities (20090814103325)
Migrating to CreateResolutionProposals (20090814103939)
Migrating to CreateResolutionAttachemnts (20090814110608)
Migrating to CreateUsers (20090822165211)
Migrating to AddPasswordToUser (20090824074626)
Migrating to AddAuditteToMonitoring (20090825115128)
Migrating to CreateUserRelationships (20090825153108)
Migrating to CreateActor (20090827062012)
Migrating to AddInheritedActors (20090827062142)
Migrating to AddActorToUser (20090827070435)
Migrating to AddComplianceOfficerToMonitorings (20090829200556)
Migrating to RemoveUserRelationships (20090829203406)
Migrating to AddClientToActors (20090829211128)
Migrating to AddRefNoToMonitorings (20090906083152)
Migrating to CreateRoles (20091210140222)
Migrating to AddDueDateToNonConformity (20100203114412)
Migrating to CreateTextBlocks (20100204083905)
Migrating to CreateNcTemplates (20100204103745)
Migrating to AddAasmStateToResolutionProposal (20100312102834)
Migrating to AddDeclineArgumentsToResolutionProposal (20100314150913)
Migrating to AddCompanyNameToActors (20100802140447)
Migrating to CreateComments (20100819082907)
Migrating to WireCommentToResolutionProposals (20100827151828)
Migrating to CorrectSpellingOfCommentsTitle (20100827153009)
Migrating to AddChildChangedAt2Monitorings (20100917142623)
Migrating to ChangeMonitoringsAuditRefFromString2Text (20100924143446)
Migrating to UpdateChildChangedAtOfMonitorings (20100926111315)
Migrating to ActsAsTaggableOnMigration (20101001125020)
Migrating to AddCategory2NcTemplates (20101001125247)
Migrating to AddSalutationToUsers (20101014121528)
Migrating to AddDefaultStatusDraftToMonitorings (20101021151132)
Migrating to AddAccountInfoSentToUsers (20101021162115)
Migrating to CreateAuditees (20101109101222)
Migrating to CreateClients (20101109102253)
Migrating to CreateComplianceOfficers (20101109104255)
Migrating to DropActors (20101109104556)
Migrating to CreatePartners (20101126101008)
Migrating to AddBelongsToUserToPartners (20101126102121)
Migrating to AddRolePartner (20101126115120)
Migrating to AddCompanyNameToPartners (20101126152145)
Migrating to AddAasmToMonitoring (20110201163427)
Migrating to CreateNonConformityAttachments (20110205204857)
Migrating to AddAttachmentDocToNonConformityAttachment (20110205205041)
Migrating to AddNonConformityIdToNonConformityAttachments (20110205212645)
Migrating to AddIdentifierToNonConformity (20110210082340)
Migrating to CreateCommentAttachments (20110210185224)
Migrating to AddAttachmentDocToCommentAttachment (20110210185438)
Migrating to CreateMessageQueues (20110527111224)
Migrating to CorrectMisspellingOfAuditeeInMessageQueues (20110527115046)
Migrating to AddMessagesAttributeToMessageQueue (20110527123418)
Migrating to ChangeAuditeeToUserInMessageQueues (20110527130547)
Migrating to CreateMessages (20110603113500)
Migrating to AddInstanceIdToMessagesAndDropMessagesJsonFromMessageQueues (20110603115050)
Migrating to AddSupplierToNonConformities (20110610153206)
Migrating to CreateActionLogs (20110701132137)
Migrating to CreateMonChildActLogs (20110821163438)
Migrating to AddAasmStateToResPropAttachments (20110826091800)
Migrating to MoveDeclinedReasonFromResPropToRemediationFailureInNonConf (20111028090638)
Migrating to NonConformitiesAsStateMashine (20111028123833)
Migrating to AddNotificationDatesToNonConformities (20120608135651)
Migrating to AddFailureWaringSentAtToMonitorings (20120706150132)
  [1m[35mSQL (463.9ms)[0m  ALTER TABLE `non_conformities` DROP `failure_warning_sent_at`
  [1m[36mSQL (439.4ms)[0m  [1mALTER TABLE `monitorings` ADD `failure_warning_sent_at` datetime[0m
  [1m[35mSQL (6.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20120706150132')
  [1m[36mSQL (113.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (4.4ms)[0m  SELECT `schema_migrations`.`version` FROM `schema_migrations`
  [1m[36mSQL (1.0ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (68.1ms)[0m  describe `action_logs`
  [1m[36mSQL (64.9ms)[0m  [1mSHOW KEYS FROM `action_logs`[0m
  [1m[35mSQL (4.4ms)[0m  describe `auditees`
  [1m[36mSQL (1.0ms)[0m  [1mSHOW KEYS FROM `auditees`[0m
  [1m[35mSQL (3.2ms)[0m  describe `clients`
  [1m[36mSQL (3.5ms)[0m  [1mSHOW KEYS FROM `clients`[0m
  [1m[35mSQL (132.0ms)[0m  describe `comment_attachments`
  [1m[36mSQL (32.2ms)[0m  [1mSHOW KEYS FROM `comment_attachments`[0m
  [1m[35mSQL (2.4ms)[0m  describe `comments`
  [1m[36mSQL (1.0ms)[0m  [1mSHOW KEYS FROM `comments`[0m
  [1m[35mSQL (6.6ms)[0m  describe `compliance_officers`
  [1m[36mSQL (0.9ms)[0m  [1mSHOW KEYS FROM `compliance_officers`[0m
  [1m[35mSQL (2.2ms)[0m  describe `message_queues`
  [1m[36mSQL (1.4ms)[0m  [1mSHOW KEYS FROM `message_queues`[0m
  [1m[35mSQL (2.1ms)[0m  describe `messages`
  [1m[36mSQL (0.9ms)[0m  [1mSHOW KEYS FROM `messages`[0m
  [1m[35mSQL (2.1ms)[0m  describe `mon_child_act_logs`
  [1m[36mSQL (1.1ms)[0m  [1mSHOW KEYS FROM `mon_child_act_logs`[0m
  [1m[35mSQL (2.3ms)[0m  describe `monitorings`
  [1m[36mSQL (1.0ms)[0m  [1mSHOW KEYS FROM `monitorings`[0m
  [1m[35mSQL (2.3ms)[0m  describe `nc_templates`
  [1m[36mSQL (1.1ms)[0m  [1mSHOW KEYS FROM `nc_templates`[0m
  [1m[35mSQL (3.8ms)[0m  describe `non_conformities`
  [1m[36mSQL (1.0ms)[0m  [1mSHOW KEYS FROM `non_conformities`[0m
  [1m[35mSQL (2.1ms)[0m  describe `non_conformity_attachments`
  [1m[36mSQL (1.1ms)[0m  [1mSHOW KEYS FROM `non_conformity_attachments`[0m
  [1m[35mSQL (2.7ms)[0m  describe `partners`
  [1m[36mSQL (1.4ms)[0m  [1mSHOW KEYS FROM `partners`[0m
  [1m[35mSQL (2.5ms)[0m  describe `resolution_attachments`
  [1m[36mSQL (0.9ms)[0m  [1mSHOW KEYS FROM `resolution_attachments`[0m
  [1m[35mSQL (2.4ms)[0m  describe `resolution_proposals`
  [1m[36mSQL (0.6ms)[0m  [1mSHOW KEYS FROM `resolution_proposals`[0m
  [1m[35mSQL (2.1ms)[0m  describe `roles`
  [1m[36mSQL (0.9ms)[0m  [1mSHOW KEYS FROM `roles`[0m
  [1m[35mSQL (2.1ms)[0m  describe `roles_users`
  [1m[36mSQL (0.9ms)[0m  [1mSHOW KEYS FROM `roles_users`[0m
  [1m[35mSQL (2.4ms)[0m  describe `taggings`
  [1m[36mSQL (1.2ms)[0m  [1mSHOW KEYS FROM `taggings`[0m
  [1m[35mSQL (2.0ms)[0m  describe `tags`
  [1m[36mSQL (1.0ms)[0m  [1mSHOW KEYS FROM `tags`[0m
  [1m[35mSQL (2.5ms)[0m  describe `text_blocks`
  [1m[36mSQL (1.0ms)[0m  [1mSHOW KEYS FROM `text_blocks`[0m
  [1m[35mSQL (2.9ms)[0m  describe `users`
  [1m[36mSQL (1.0ms)[0m  [1mSHOW KEYS FROM `users`[0m


Started GET "/monitorings" for 127.0.0.1 at Fri Jul 13 12:32:32 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by MonitoringsController#index as HTML
  [1m[35mSQL (4.7ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mMonitoring Load (0.5ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (compliance_officer_id = 26) AND (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) ORDER BY child_changed_at DESC, due_date, ref_no LIMIT 15 OFFSET 0[0m
  [1m[35mMonitoring Load (2.4ms)[0m  SELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (compliance_officer_id = 26) AND (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) GROUP BY auditees.company_name ORDER BY child_changed_at DESC, due_date, ref_no
  [1m[36mAuditee Load (0.6ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 29) LIMIT 1
  [1m[36mComplianceOfficer Load (0.6ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.3ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers`[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mComment Count (0.5ms)[0m  [1mselect count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 20 and c.created_at > '2012-07-08 10:32:33'[0m
  [1m[35mResolutionProposal Count (0.2ms)[0m  select count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 20 and rp.updated_at > '2012-07-08 10:32:33'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 29) LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 45) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mComment Count (0.4ms)[0m  [1mselect count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 14 and c.created_at > '2012-07-08 10:32:33'[0m
  [1m[35mResolutionProposal Count (0.3ms)[0m  select count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 14 and rp.updated_at > '2012-07-08 10:32:33'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mComment Count (0.5ms)[0m  [1mselect count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 24 and c.created_at > '2012-07-08 10:32:33'[0m
  [1m[35mResolutionProposal Count (0.2ms)[0m  select count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 24 and rp.updated_at > '2012-07-08 10:32:33'
Rendered monitorings/_search_form.html.erb (1.5ms)
Rendered monitorings/_index.html.erb (43.3ms)
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.3ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (20.6ms)
Rendered monitorings/index.html.erb within layouts/application (97.8ms)
Completed 200 OK in 444ms (Views: 103.3ms | ActiveRecord: 15.6ms)


Started GET "/monitorings/new" for 127.0.0.1 at Fri Jul 13 12:32:35 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by MonitoringsController#new as HTML
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
Rendered monitorings/_search_form.html.erb (1.3ms)
  [1m[36mAuditee Load (0.8ms)[0m  [1mSELECT `auditees`.`id` AS t0_r0, `auditees`.`user_id` AS t0_r1, `auditees`.`client_id` AS t0_r2, `auditees`.`company_name` AS t0_r3, `auditees`.`created_at` AS t0_r4, `auditees`.`updated_at` AS t0_r5, `auditees`.`partner_id` AS t0_r6, `users`.`id` AS t1_r0, `users`.`login` AS t1_r1, `users`.`name` AS t1_r2, `users`.`email` AS t1_r3, `users`.`crypted_password` AS t1_r4, `users`.`salt` AS t1_r5, `users`.`created_at` AS t1_r6, `users`.`updated_at` AS t1_r7, `users`.`remember_token` AS t1_r8, `users`.`remember_token_expires_at` AS t1_r9, `users`.`cleartext_password` AS t1_r10, `users`.`salutation` AS t1_r11, `users`.`account_info_sent` AS t1_r12 FROM `auditees` LEFT OUTER JOIN `users` ON `users`.`id` = `auditees`.`user_id` ORDER BY company_name,users.login[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
Rendered monitorings/_form.html.erb (78.6ms)
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.3ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (24.5ms)
Rendered monitorings/new.html.erb within layouts/application (133.0ms)
Completed 200 OK in 382ms (Views: 140.6ms | ActiveRecord: 6.4ms)


Started POST "/monitorings" for 127.0.0.1 at Fri Jul 13 12:33:10 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by MonitoringsController#create as HTML
  Parameters: {"commit"=>"Create", "authenticity_token"=>"GqOxWU2KipXuY8Ye9W7zmmwFmzqtISBH5+j6vmr/pSM=", "utf8"=>"\342\234\223", "monitoring"=>{"auditee_id"=>"20", "compliance_officer_id"=>"26", "remarks"=>"remarks for testing", "audit_ref"=>"audit_ref_123", "notice_level"=>"2", "due_date"=>"24-12-2012"}}
  [1m[36mSQL (1.2ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mAuditee Load (0.6ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mComplianceOfficer Load (0.6ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  describe `monitorings`
  [1m[36mAREL (0.8ms)[0m  [1mINSERT INTO `monitorings` (`status`, `due_date`, `aasm_state`, `compliance_officer_id`, `audit_ref`, `notice_level`, `ref_no`, `created_at`, `auditee_id`, `updated_at`, `failure_warning_sent_at`, `child_changed_at`, `remarks`) VALUES ('draft', '2012-12-24 00:00:00', 'draft', 26, 'audit_ref_123', 2, NULL, '2012-07-13 10:33:11', 20, '2012-07-13 10:33:11', NULL, NULL, 'remarks for testing')[0m
  [1m[35mActionLog Load (0.6ms)[0m  SELECT `action_logs`.* FROM `action_logs` WHERE (`action_logs`.logged_id = NULL AND `action_logs`.logged_type = 'Monitoring')
  [1m[36mSQL (1.6ms)[0m  [1mdescribe `action_logs`[0m
  [1m[35mAREL (1.8ms)[0m  INSERT INTO `action_logs` (`updated_at`, `created_at`, `logged_id`, `log_entry`, `logged_type`, `user_id`) VALUES ('2012-07-13 10:33:11', '2012-07-13 10:33:11', 25, 'Created new Monitoring.', 'Monitoring', 41)
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE `monitorings` SET `due_date` = '2012-12-24 00:00:00', `aasm_state` = 'draft', `compliance_officer_id` = 26, `audit_ref` = 'audit_ref_123', `notice_level` = 2, `ref_no` = '20120713-25', `created_at` = '2012-07-13 10:33:11', `auditee_id` = 20, `updated_at` = '2012-07-13 10:33:11', `remarks` = 'remarks for testing' WHERE (`monitorings`.`id` = 25)[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO `action_logs` (`updated_at`, `created_at`, `logged_id`, `log_entry`, `logged_type`, `user_id`) VALUES ('2012-07-13 10:33:11', '2012-07-13 10:33:11', 25, '{\"auditee_id\":[null,20],\"remarks\":[null,\"remarks for testing\"],\"compliance_officer_id\":[null,26],\"created_at\":[null,\"2012-07-13 10:33:11 UTC\"],\"aasm_state\":[null,\"draft\"],\"updated_at\":[null,\"2012-07-13 10:33:11 UTC\"],\"ref_no\":[null,\"20120713-25\"],\"id\":[null,25],\"audit_ref\":[null,\"audit_ref_123\"],\"due_date\":[null,\"2012-12-24 00:00:00 UTC\"],\"notice_level\":[null,2]}', 'Monitoring', 41)
  [1m[36mComplianceOfficer Load (0.3ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  COMMIT
Redirected to http://localhost:3000/monitorings/25
Completed 302 Found in 498ms


Started GET "/monitorings/25" for 127.0.0.1 at Fri Jul 13 12:33:11 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by MonitoringsController#show as HTML
  Parameters: {"id"=>"25"}
  [1m[36mSQL (2.6ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mMonitoring Load (1.8ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 25) LIMIT 1[0m
Rendered monitorings/_search_form.html.erb (1.3ms)
  [1m[35mAuditee Load (0.6ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mNonConformity Load (0.5ms)[0m  SELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.monitoring_id = 25)
Rendered non_conformities/_index_table.html.erb (5.0ms)
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.3ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.4ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (37.9ms)
Rendered monitorings/show.html.erb within layouts/application (150.9ms)
Completed 200 OK in 408ms (Views: 157.6ms | ActiveRecord: 9.0ms)
  [1m[36mSQL (72.2ms)[0m  [1mSHOW TABLES[0m
  [1m[35mMonitoring Load (0.5ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 25) LIMIT 1
DEPRECATION WARNING: FailureWarningMail.deliver_failure_warning_email is deprecated, use FailureWarningMail.failure_warning_email.deliver instead. (called from perform at /Users/ah/projects/gsmMonitoring/app/models/failure_warning_job.rb:8)
  [1m[36mAuditee Load (0.6ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
DEPRECATION WARNING: Giving a hash to body is deprecated, please use instance variables instead. (called from process at /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionmailer-3.0.3/lib/action_mailer/old_api.rb:77)
Rendered failure_warning_mail/failure_warning_email.html.erb (23.0ms)

Sent mail to intertech18@intertech.de (458ms)
Date: Fri, 13 Jul 2012 12:33:43 +0200
From: gsm-monitoring@gsm-consulting.net
To: intertech18@intertech.de
Message-ID: <4ffff987f352a_6bb85e2013c779a2@mbp3.local.mail>
Subject: [auditee1@customer.intetrech.de] Audition '20120713-25' Failure
 Imminent
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p>
Dear Mr./Mrs , <br/> this is a reminder of a pending audition process whe=
re
your action is <strong>urgently</strong> required as the monitoring 20120=
713-25 will <strong>fail</strong> at 2012-12-24 00:00:00 UTC.
</p>

<p> Please visit the gsm Online Monitoring Platform
http://monitoring.gsm-consulting.net with your user-name auditee1to revie=
w the current status, posted comments and judgements on your
resolution proposals.</p>
<p> Please initiate the necessary remediation actions as soon as possible=
 and
follow the instructions given for the monitoring-process: 20120713-25
</p>
<p> Best regards,<br /> gsm<br /> <br /> Global Sustainable Management Gm=
bH<br
/> Friesenplatz 15<br /> D-50672 Koeln<br /> <br /> Tel: +49 221 5029490<=
br />
Fax: +49 221 50294929<br /> e-mail monitoring@gsm-consulting.net<br />
www.gsm-consulting.net<br /> Amtsgericht K&ouml;ln HRB 51553<br /> USt.-I=
D. DE
232 571 288<br /> Gesch&auml;ftsf&uuml;hrerin Birgit Karpa-Beuth<br /> <b=
r />
Please consider the environment before you print this email.<br />
</p>
<pre style=3D"font-size: 9pt;color: #767676"> Der Inhalt dieser E-Mail is=
t
ausschlie=C3=9Flich f=C3=BCr den bezeichneten Adressaten bestimmt. Wenn S=
ie nicht der
vorgesehene Adressat dieser E-Mail oder dessen Vertreter sein sollten, so=

beachten Sie bitte, dass jede Form der Kenntnisnahme, Ver&ouml;ffentlichu=
ng,
Vervielf&auml;ltigung oder Weitergabe des Inhalts dieser E-Mail unzul&aum=
l;ssig
ist. Wir bitten Sie, sich in diesem Fall mit dem Absender der E-Mail in
Verbindung zu setzen.
</pre>

<pre style=3D"font-size: 9pt;color: #767676"> The information contained h=
erein is
confidential and is intended solely for the addressee. Access by any othe=
r
party is unauthorised without the express written permission of the sende=
r. If
you are not the intended recipient, please contact the sender.
</pre>
  [1m[35mAREL (2.4ms)[0m  UPDATE `monitorings` SET failure_warning_sent_at = '2012-07-13 12:33:44' WHERE (id = 25)
  [1m[36mMonitoring Load (0.4ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 25) LIMIT 1[0m
DEPRECATION WARNING: Use toplevel init.rb; rails/init.rb is deprecated: /Users/ah/projects/gsmMonitoring/vendor/plugins/restful-authentication/rails/init.rb. (called from /Users/ah/projects/gsmMonitoring/config/environment.rb:5)
DEPRECATION WARNING: RAILS_ENV is deprecated. Please use ::Rails.env. (called from /Users/ah/projects/gsmMonitoring/config/initializers/mailer.rb:1)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mSQL (0.6ms)[0m  [1mSELECT COUNT(*) FROM `non_conformity_attachments`[0m
  [1m[35mSQL (66.0ms)[0m  SHOW TABLES
  [1m[36mSQL (115.0ms)[0m  [1mSELECT COUNT(*) FROM `resolution_proposals` WHERE (supplier not NULL)[0m
Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'NULL)' at line 1: SELECT COUNT(*) FROM `resolution_proposals` WHERE (supplier not NULL)
DEPRECATION WARNING: Use toplevel init.rb; rails/init.rb is deprecated: /Users/ah/projects/gsmMonitoring/vendor/plugins/restful-authentication/rails/init.rb. (called from /Users/ah/projects/gsmMonitoring/config/environment.rb:5)
DEPRECATION WARNING: RAILS_ENV is deprecated. Please use ::Rails.env. (called from /Users/ah/projects/gsmMonitoring/config/initializers/mailer.rb:1)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (1.2ms)[0m  SHOW TABLES
  [1m[36mNonConformity Load (0.6ms)[0m  [1mSELECT `non_conformities`.* FROM `non_conformities` WHERE (supplier not null)[0m
Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'null)' at line 1: SELECT `non_conformities`.* FROM `non_conformities` WHERE (supplier not null)
  [1m[35mNonConformity Load (0.6ms)[0m  SELECT `non_conformities`.* FROM `non_conformities` WHERE (supplier is not null)
  [1m[36mSQL (0.7ms)[0m  [1mSHOW TABLES[0m
  [1m[35mSQL (54.4ms)[0m  select distinct supplier from non_conformities
  [1m[36mSQL (4.3ms)[0m  [1mselect distinct supplier from non_conformities[0m
  [1m[35mSQL (52.8ms)[0m  select distinct supplier from non_conformities
  [1m[36mSQL (56.1ms)[0m  [1mselect distinct supplier from non_conformities[0m
  [1m[35mSQL (269.9ms)[0m  select distinct supplier from non_conformities
  [1m[36mNonConformity Load (2.0ms)[0m  [1mSELECT `non_conformities`.* FROM `non_conformities`[0m
  [1m[35mNonConformity Load (0.9ms)[0m  SELECT supplier FROM `non_conformities`
  [1m[36mNonConformity Load (268.9ms)[0m  [1mSELECT distinct supplier FROM `non_conformities`[0m
  [1m[35mNonConformity Load (265.7ms)[0m  SELECT distinct supplier FROM `non_conformities` WHERE (supplier IS NOT NULL OR supplier != '')
DEPRECATION WARNING: Use toplevel init.rb; rails/init.rb is deprecated: /Users/ah/projects/gsmMonitoring/vendor/plugins/restful-authentication/rails/init.rb. (called from /Users/ah/projects/gsmMonitoring/config/environment.rb:5)
DEPRECATION WARNING: RAILS_ENV is deprecated. Please use ::Rails.env. (called from /Users/ah/projects/gsmMonitoring/config/initializers/mailer.rb:1)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
DEPRECATION WARNING: Use toplevel init.rb; rails/init.rb is deprecated: /Users/ah/projects/gsmMonitoring/vendor/plugins/restful-authentication/rails/init.rb. (called from /Users/ah/projects/gsmMonitoring/config/environment.rb:5)
DEPRECATION WARNING: RAILS_ENV is deprecated. Please use ::Rails.env. (called from /Users/ah/projects/gsmMonitoring/config/initializers/mailer.rb:1)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
DEPRECATION WARNING: Use toplevel init.rb; rails/init.rb is deprecated: /Users/ah/projects/gsmMonitoring/vendor/plugins/restful-authentication/rails/init.rb. (called from /Users/ah/projects/gsmMonitoring/config/environment.rb:5)
DEPRECATION WARNING: RAILS_ENV is deprecated. Please use ::Rails.env. (called from /Users/ah/projects/gsmMonitoring/config/initializers/mailer.rb:1)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
DEPRECATION WARNING: Use toplevel init.rb; rails/init.rb is deprecated: /Users/ah/projects/gsmMonitoring/vendor/plugins/restful-authentication/rails/init.rb. (called from /Users/ah/projects/gsmMonitoring/config/environment.rb:5)
DEPRECATION WARNING: RAILS_ENV is deprecated. Please use ::Rails.env. (called from /Users/ah/projects/gsmMonitoring/config/initializers/mailer.rb:1)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
DEPRECATION WARNING: Use toplevel init.rb; rails/init.rb is deprecated: /Users/ah/projects/gsmMonitoring/vendor/plugins/restful-authentication/rails/init.rb. (called from /Users/ah/projects/gsmMonitoring/config/environment.rb:5)
DEPRECATION WARNING: RAILS_ENV is deprecated. Please use ::Rails.env. (called from /Users/ah/projects/gsmMonitoring/config/initializers/mailer.rb:1)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)


Started GET "/non_conformities/show_suppliers" for 127.0.0.1 at Fri Jul 13 15:12:34 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#show_suppliers as HTML
  [1m[35mSQL (2.7ms)[0m  describe `roles_users`
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
Permission denied: No matching rules found for show_suppliers for #<User id: 41, login: "co1", name: "", email: "co1@customer.intetrech.de", crypted_password: "f014bb9121d16911af6bd93a4d641a45346c884a", salt: "50750216817be22dc86a796a351432f7dc73034a", created_at: "2009-08-29 19:34:25", updated_at: "2009-08-29 19:34:25", remember_token: nil, remember_token_expires_at: nil, cleartext_password: "abc123", salutation: nil, account_info_sent: false> (roles [:co], privileges [:show_suppliers], context :non_conformities).
Permission to the requested page denied.
Redirected to 
Redirected to http://localhost:3000/
Completed 302 Found in 328ms


Started GET "/" for 127.0.0.1 at Fri Jul 13 15:12:36 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by SessionsController#new as HTML
  [1m[35mSQL (2.7ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.5ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (58.8ms)
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
Rendered sessions/new.html.erb within layouts/application (286.7ms)
Completed 200 OK in 376ms (Views: 292.7ms | ActiveRecord: 6.5ms)


Started GET "/" for 127.0.0.1 at Fri Jul 13 15:14:06 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by SessionsController#new as HTML
  [1m[36mSQL (2.6ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.4ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (54.6ms)
  [1m[35mSQL (1.4ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
Rendered sessions/new.html.erb within layouts/application (97.9ms)
Completed 200 OK in 185ms (Views: 104.5ms | ActiveRecord: 6.3ms)


Started GET "/logout" for 127.0.0.1 at Fri Jul 13 15:14:16 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by SessionsController#destroy as HTML
  [1m[35mSQL (2.7ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
DEPRECATION WARNING: save(false) is deprecated, please give save(:validate => false) instead. (called from forget_me at /Users/ah/projects/gsmMonitoring/vendor/plugins/restful-authentication/rails/../lib/authentication/by_cookie_token.rb:58)
  [1m[36mSQL (0.2ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 234ms


Started GET "/" for 127.0.0.1 at Fri Jul 13 15:14:16 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by SessionsController#new as HTML
Rendered users/_user_bar.html.erb (195.5ms)
Rendered sessions/new.html.erb within layouts/application (207.5ms)
Completed 200 OK in 218ms (Views: 216.9ms | ActiveRecord: 0.0ms)


Started POST "/session" for 127.0.0.1 at Fri Jul 13 15:14:26 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"Log in", "authenticity_token"=>"qmz7i+ngLTjOuQ92x0Yve9fi+GwNFiyw/1XvhJRUpIs=", "utf8"=>"\342\234\223", "password"=>"[FILTERED]", "login"=>"co1"}
  [1m[35mSQL (1.3ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`login` = 'co1') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
DEPRECATION WARNING: save(false) is deprecated, please give save(:validate => false) instead. (called from forget_me at /Users/ah/projects/gsmMonitoring/vendor/plugins/restful-authentication/rails/../lib/authentication/by_cookie_token.rb:58)
  [1m[36mSQL (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mPartner Load (0.4ms)[0m  SELECT `partners`.* FROM `partners` WHERE (`partners`.user_id = 41) LIMIT 1
Default redirecting for user with ID '41'
Redirected to http://localhost:3000/monitorings
Completed 302 Found in 490ms


Started GET "/monitorings" for 127.0.0.1 at Fri Jul 13 15:14:26 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by MonitoringsController#index as HTML
  [1m[36mSQL (2.1ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.5ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
  [1m[35mMonitoring Load (0.8ms)[0m  SELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (compliance_officer_id = 26) AND (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) ORDER BY child_changed_at DESC, due_date, ref_no LIMIT 15 OFFSET 0
  [1m[36mMonitoring Load (2.8ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (compliance_officer_id = 26) AND (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) GROUP BY auditees.company_name ORDER BY child_changed_at DESC, due_date, ref_no[0m
  [1m[35mAuditee Load (0.6ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 29) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.8ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.3ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 20 and c.created_at > '2012-07-08 13:14:27'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 20 and rp.updated_at > '2012-07-08 13:14:27'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 29) LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 45) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 14 and c.created_at > '2012-07-08 13:14:27'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 14 and rp.updated_at > '2012-07-08 13:14:27'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 24 and c.created_at > '2012-07-08 13:14:27'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 24 and rp.updated_at > '2012-07-08 13:14:27'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 25 and c.created_at > '2012-07-08 13:14:27'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 25 and rp.updated_at > '2012-07-08 13:14:27'[0m
Rendered monitorings/_search_form.html.erb (1.4ms)
Rendered monitorings/_index.html.erb (50.7ms)
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.3ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (18.8ms)
Rendered monitorings/index.html.erb within layouts/application (101.2ms)
Completed 200 OK in 484ms (Views: 105.3ms | ActiveRecord: 14.6ms)


Started GET "/non_conformities/show_suppliers" for 127.0.0.1 at Fri Jul 13 15:14:34 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#show_suppliers as HTML
  [1m[35mSQL (2.8ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
Completed   in 147ms

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.length):
  declarative_authorization (0.5.3) lib/declarative_authorization/obligation_scope.rb:120:in `follow_comparison'
  declarative_authorization (0.5.3) lib/declarative_authorization/obligation_scope.rb:87:in `follow_path'
  declarative_authorization (0.5.3) lib/declarative_authorization/obligation_scope.rb:81:in `each'
  declarative_authorization (0.5.3) lib/declarative_authorization/obligation_scope.rb:81:in `follow_path'
  declarative_authorization (0.5.3) lib/declarative_authorization/obligation_scope.rb:69:in `parse!'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:76:in `obligation_scope_for'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:75:in `each'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:75:in `obligation_scope_for'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:59:in `included'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:102:in `call'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:102:in `with_permissions_to'
  app/controllers/non_conformities_controller.rb:18:in `show_suppliers'
  actionpack (3.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (3.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (3.0.3) lib/abstract_controller/base.rb:151:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/rendering.rb:11:in `process_action'
  actionpack (3.0.3) lib/abstract_controller/callbacks.rb:18:in `process_action'
  activesupport (3.0.3) lib/active_support/callbacks.rb:450:in `_run__227336094__process_action__1783491803__callbacks'
  activesupport (3.0.3) lib/active_support/callbacks.rb:409:in `send'
  activesupport (3.0.3) lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
  activesupport (3.0.3) lib/active_support/callbacks.rb:93:in `send'
  activesupport (3.0.3) lib/active_support/callbacks.rb:93:in `run_callbacks'
  actionpack (3.0.3) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activesupport (3.0.3) lib/active_support/notifications.rb:52:in `instrument'
  activesupport (3.0.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (3.0.3) lib/active_support/notifications.rb:52:in `instrument'
  actionpack (3.0.3) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/rescue.rb:17:in `process_action'
  actionpack (3.0.3) lib/abstract_controller/base.rb:120:in `process'
  actionpack (3.0.3) lib/abstract_controller/rendering.rb:40:in `process'
  actionpack (3.0.3) lib/action_controller/metal.rb:138:in `dispatch'
  actionpack (3.0.3) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.0.3) lib/action_controller/metal.rb:178:in `action'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:62:in `call'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:27:in `call'
  rack-mount (0.6.14) lib/rack/mount/route_set.rb:148:in `call'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:93:in `recognize'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:68:in `optimized_each'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:92:in `recognize'
  rack-mount (0.6.14) lib/rack/mount/route_set.rb:139:in `call'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:492:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/head.rb:14:in `call'
  rack (1.2.3) lib/rack/methodoverride.rb:24:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/flash.rb:182:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/cookies.rb:295:in `call'
  activerecord (3.0.3) lib/active_record/query_cache.rb:32:in `call'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
  activerecord (3.0.3) lib/active_record/query_cache.rb:12:in `cache'
  activerecord (3.0.3) lib/active_record/query_cache.rb:31:in `call'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:353:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/callbacks.rb:46:in `call'
  activesupport (3.0.3) lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
  actionpack (3.0.3) lib/action_dispatch/middleware/callbacks.rb:44:in `call'
  rack (1.2.3) lib/rack/sendfile.rb:107:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
  railties (3.0.3) lib/rails/rack/logger.rb:13:in `call'
  rack (1.2.3) lib/rack/runtime.rb:17:in `call'
  activesupport (3.0.3) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `synchronize'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/static.rb:30:in `call'
  railties (3.0.3) lib/rails/application.rb:168:in `call'
  railties (3.0.3) lib/rails/application.rb:77:in `send'
  railties (3.0.3) lib/rails/application.rb:77:in `method_missing'
  railties (3.0.3) lib/rails/rack/log_tailer.rb:14:in `call'
  rack (1.2.3) lib/rack/content_length.rb:13:in `call'
  rack (1.2.3) lib/rack/chunked.rb:15:in `call'
  rack (1.2.3) lib/rack/handler/mongrel.rb:67:in `process'
  mongrel (1.1.5) lib/mongrel.rb:159:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:158:in `each'
  mongrel (1.1.5) lib/mongrel.rb:158:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:285:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:285:in `new'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:268:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:268:in `new'
  mongrel (1.1.5) lib/mongrel.rb:268:in `run'
  rack (1.2.3) lib/rack/handler/mongrel.rb:38:in `run'
  rack (1.2.3) lib/rack/server.rb:217:in `start'
  railties (3.0.3) lib/rails/commands/server.rb:65:in `start'
  railties (3.0.3) lib/rails/commands.rb:30
  railties (3.0.3) lib/rails/commands.rb:27:in `tap'
  railties (3.0.3) lib/rails/commands.rb:27
  /script/rails:6:in `require'
  /script/rails:6
  ruby-debug-ide (0.4.16) lib/ruby-debug-ide.rb:112:in `debug_load'
  ruby-debug-ide (0.4.16) lib/ruby-debug-ide.rb:112:in `debug_program'
  ruby-debug-ide (0.4.16) bin/rdebug-ide:87
  /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19:in `load'
  /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19

Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (227.4ms)
Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (233.8ms)


Started GET "/non_conformities/show_suppliers" for 127.0.0.1 at Fri Jul 13 15:15:26 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#show_suppliers as HTML
  [1m[35mSQL (2.8ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
Completed   in 326ms

NoMethodError (undefined method `where' for #<NonConformitiesController:0x1163f0158>):
  app/controllers/non_conformities_controller.rb:19:in `show_suppliers'
  actionpack (3.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (3.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (3.0.3) lib/abstract_controller/base.rb:151:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/rendering.rb:11:in `process_action'
  actionpack (3.0.3) lib/abstract_controller/callbacks.rb:18:in `process_action'
  activesupport (3.0.3) lib/active_support/callbacks.rb:450:in `_run__227336094__process_action__1783491803__callbacks'
  activesupport (3.0.3) lib/active_support/callbacks.rb:409:in `send'
  activesupport (3.0.3) lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
  activesupport (3.0.3) lib/active_support/callbacks.rb:93:in `send'
  activesupport (3.0.3) lib/active_support/callbacks.rb:93:in `run_callbacks'
  actionpack (3.0.3) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activesupport (3.0.3) lib/active_support/notifications.rb:52:in `instrument'
  activesupport (3.0.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (3.0.3) lib/active_support/notifications.rb:52:in `instrument'
  actionpack (3.0.3) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/rescue.rb:17:in `process_action'
  actionpack (3.0.3) lib/abstract_controller/base.rb:120:in `process'
  actionpack (3.0.3) lib/abstract_controller/rendering.rb:40:in `process'
  actionpack (3.0.3) lib/action_controller/metal.rb:138:in `dispatch'
  actionpack (3.0.3) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.0.3) lib/action_controller/metal.rb:178:in `action'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:62:in `call'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:27:in `call'
  rack-mount (0.6.14) lib/rack/mount/route_set.rb:148:in `call'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:93:in `recognize'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:68:in `optimized_each'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:92:in `recognize'
  rack-mount (0.6.14) lib/rack/mount/route_set.rb:139:in `call'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:492:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/head.rb:14:in `call'
  rack (1.2.3) lib/rack/methodoverride.rb:24:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/flash.rb:182:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/cookies.rb:295:in `call'
  activerecord (3.0.3) lib/active_record/query_cache.rb:32:in `call'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
  activerecord (3.0.3) lib/active_record/query_cache.rb:12:in `cache'
  activerecord (3.0.3) lib/active_record/query_cache.rb:31:in `call'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:353:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/callbacks.rb:46:in `call'
  activesupport (3.0.3) lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
  actionpack (3.0.3) lib/action_dispatch/middleware/callbacks.rb:44:in `call'
  rack (1.2.3) lib/rack/sendfile.rb:107:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
  railties (3.0.3) lib/rails/rack/logger.rb:13:in `call'
  rack (1.2.3) lib/rack/runtime.rb:17:in `call'
  activesupport (3.0.3) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `synchronize'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/static.rb:30:in `call'
  railties (3.0.3) lib/rails/application.rb:168:in `call'
  railties (3.0.3) lib/rails/application.rb:77:in `send'
  railties (3.0.3) lib/rails/application.rb:77:in `method_missing'
  railties (3.0.3) lib/rails/rack/log_tailer.rb:14:in `call'
  rack (1.2.3) lib/rack/content_length.rb:13:in `call'
  rack (1.2.3) lib/rack/chunked.rb:15:in `call'
  rack (1.2.3) lib/rack/handler/mongrel.rb:67:in `process'
  mongrel (1.1.5) lib/mongrel.rb:159:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:158:in `each'
  mongrel (1.1.5) lib/mongrel.rb:158:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:285:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:285:in `new'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:268:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:268:in `new'
  mongrel (1.1.5) lib/mongrel.rb:268:in `run'
  rack (1.2.3) lib/rack/handler/mongrel.rb:38:in `run'
  rack (1.2.3) lib/rack/server.rb:217:in `start'
  railties (3.0.3) lib/rails/commands/server.rb:65:in `start'
  railties (3.0.3) lib/rails/commands.rb:30
  railties (3.0.3) lib/rails/commands.rb:27:in `tap'
  railties (3.0.3) lib/rails/commands.rb:27
  /script/rails:6:in `require'
  /script/rails:6
  ruby-debug-ide (0.4.16) lib/ruby-debug-ide.rb:112:in `debug_load'
  ruby-debug-ide (0.4.16) lib/ruby-debug-ide.rb:112:in `debug_program'
  ruby-debug-ide (0.4.16) bin/rdebug-ide:87
  /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19:in `load'
  /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19

Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (19.0ms)
Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (24.4ms)


Started GET "/non_conformities/show_suppliers" for 127.0.0.1 at Fri Jul 13 15:15:36 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#show_suppliers as HTML
  [1m[35mSQL (2.8ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
Completed   in 117ms

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.length):
  declarative_authorization (0.5.3) lib/declarative_authorization/obligation_scope.rb:120:in `follow_comparison'
  declarative_authorization (0.5.3) lib/declarative_authorization/obligation_scope.rb:87:in `follow_path'
  declarative_authorization (0.5.3) lib/declarative_authorization/obligation_scope.rb:81:in `each'
  declarative_authorization (0.5.3) lib/declarative_authorization/obligation_scope.rb:81:in `follow_path'
  declarative_authorization (0.5.3) lib/declarative_authorization/obligation_scope.rb:69:in `parse!'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:76:in `obligation_scope_for'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:75:in `each'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:75:in `obligation_scope_for'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:59:in `included'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:102:in `call'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:102:in `with_permissions_to'
  activerecord (3.0.3) lib/active_record/relation.rb:365:in `send'
  activerecord (3.0.3) lib/active_record/relation.rb:365:in `method_missing'
  app/controllers/non_conformities_controller.rb:18:in `show_suppliers'
  actionpack (3.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (3.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (3.0.3) lib/abstract_controller/base.rb:151:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/rendering.rb:11:in `process_action'
  actionpack (3.0.3) lib/abstract_controller/callbacks.rb:18:in `process_action'
  activesupport (3.0.3) lib/active_support/callbacks.rb:450:in `_run__227336094__process_action__1783491803__callbacks'
  activesupport (3.0.3) lib/active_support/callbacks.rb:409:in `send'
  activesupport (3.0.3) lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
  activesupport (3.0.3) lib/active_support/callbacks.rb:93:in `send'
  activesupport (3.0.3) lib/active_support/callbacks.rb:93:in `run_callbacks'
  actionpack (3.0.3) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activesupport (3.0.3) lib/active_support/notifications.rb:52:in `instrument'
  activesupport (3.0.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (3.0.3) lib/active_support/notifications.rb:52:in `instrument'
  actionpack (3.0.3) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/rescue.rb:17:in `process_action'
  actionpack (3.0.3) lib/abstract_controller/base.rb:120:in `process'
  actionpack (3.0.3) lib/abstract_controller/rendering.rb:40:in `process'
  actionpack (3.0.3) lib/action_controller/metal.rb:138:in `dispatch'
  actionpack (3.0.3) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.0.3) lib/action_controller/metal.rb:178:in `action'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:62:in `call'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:27:in `call'
  rack-mount (0.6.14) lib/rack/mount/route_set.rb:148:in `call'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:93:in `recognize'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:68:in `optimized_each'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:92:in `recognize'
  rack-mount (0.6.14) lib/rack/mount/route_set.rb:139:in `call'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:492:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/head.rb:14:in `call'
  rack (1.2.3) lib/rack/methodoverride.rb:24:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/flash.rb:182:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/cookies.rb:295:in `call'
  activerecord (3.0.3) lib/active_record/query_cache.rb:32:in `call'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
  activerecord (3.0.3) lib/active_record/query_cache.rb:12:in `cache'
  activerecord (3.0.3) lib/active_record/query_cache.rb:31:in `call'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:353:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/callbacks.rb:46:in `call'
  activesupport (3.0.3) lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
  actionpack (3.0.3) lib/action_dispatch/middleware/callbacks.rb:44:in `call'
  rack (1.2.3) lib/rack/sendfile.rb:107:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
  railties (3.0.3) lib/rails/rack/logger.rb:13:in `call'
  rack (1.2.3) lib/rack/runtime.rb:17:in `call'
  activesupport (3.0.3) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `synchronize'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/static.rb:30:in `call'
  railties (3.0.3) lib/rails/application.rb:168:in `call'
  railties (3.0.3) lib/rails/application.rb:77:in `send'
  railties (3.0.3) lib/rails/application.rb:77:in `method_missing'
  railties (3.0.3) lib/rails/rack/log_tailer.rb:14:in `call'
  rack (1.2.3) lib/rack/content_length.rb:13:in `call'
  rack (1.2.3) lib/rack/chunked.rb:15:in `call'
  rack (1.2.3) lib/rack/handler/mongrel.rb:67:in `process'
  mongrel (1.1.5) lib/mongrel.rb:159:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:158:in `each'
  mongrel (1.1.5) lib/mongrel.rb:158:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:285:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:285:in `new'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:268:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:268:in `new'
  mongrel (1.1.5) lib/mongrel.rb:268:in `run'
  rack (1.2.3) lib/rack/handler/mongrel.rb:38:in `run'
  rack (1.2.3) lib/rack/server.rb:217:in `start'
  railties (3.0.3) lib/rails/commands/server.rb:65:in `start'
  railties (3.0.3) lib/rails/commands.rb:30
  railties (3.0.3) lib/rails/commands.rb:27:in `tap'
  railties (3.0.3) lib/rails/commands.rb:27
  /script/rails:6:in `require'
  /script/rails:6
  ruby-debug-ide (0.4.16) lib/ruby-debug-ide.rb:112:in `debug_load'
  ruby-debug-ide (0.4.16) lib/ruby-debug-ide.rb:112:in `debug_program'
  ruby-debug-ide (0.4.16) bin/rdebug-ide:87
  /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19:in `load'
  /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19

Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (18.7ms)
Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (24.3ms)


Started GET "/non_conformities/show_suppliers" for 127.0.0.1 at Fri Jul 13 15:16:16 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#show_suppliers as HTML
  [1m[35mSQL (1.1ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.7ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
  [1m[35mNonConformity Load (3.0ms)[0m  SELECT distinct supplier FROM `non_conformities` WHERE (supplier IS NOT NULL AND supplier != '') ORDER BY supplier
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.4ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (57.0ms)
Rendered non_conformities/show_suppliers.html.erb within layouts/application (84.5ms)
Completed 200 OK in 190ms (Views: 90.2ms | ActiveRecord: 7.7ms)
  [1m[36mNonConformity Load (55.2ms)[0m  [1mSELECT distinct supplier FROM `non_conformities` WHERE (supplier IS NOT NULL AND supplier != '') ORDER BY supplier[0m
  [1m[35mNonConformity Load (273.2ms)[0m  SELECT distinct supplier FROM `non_conformities` WHERE (supplier IS NOT NULL AND supplier != '') ORDER BY supplier
  [1m[36mNonConformity Load (51.0ms)[0m  [1mSELECT distinct supplier FROM `non_conformities` WHERE (supplier IS NOT NULL AND supplier != '') ORDER BY supplier[0m


Started GET "/non_conformities/show_suppliers" for 127.0.0.1 at Fri Jul 13 15:19:21 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#show_suppliers as HTML
  [1m[35mSQL (2.6ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
  [1m[35mNonConformity Load (2.6ms)[0m  SELECT distinct supplier FROM `non_conformities` WHERE (supplier IS NOT NULL AND supplier != '') ORDER BY supplier
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.4ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (60.9ms)
Rendered non_conformities/show_suppliers.html.erb within layouts/application (76.1ms)
Completed 200 OK in 199ms (Views: 84.4ms | ActiveRecord: 8.8ms)
  [1m[35mNonConformity Load (57.8ms)[0m  SELECT distinct supplier FROM `non_conformities` WHERE (supplier IS NOT NULL AND supplier != '') ORDER BY supplier
  [1m[36mNonConformity Load (0.8ms)[0m  [1mSELECT `non_conformities`.* FROM `non_conformities`[0m


Started GET "/non_conformities/show_suppliers" for 127.0.0.1 at Fri Jul 13 15:21:08 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#show_suppliers as HTML
  [1m[35mSQL (1.3ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
Completed   in 291ms

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.length):
  declarative_authorization (0.5.3) lib/declarative_authorization/obligation_scope.rb:120:in `follow_comparison'
  declarative_authorization (0.5.3) lib/declarative_authorization/obligation_scope.rb:87:in `follow_path'
  declarative_authorization (0.5.3) lib/declarative_authorization/obligation_scope.rb:81:in `each'
  declarative_authorization (0.5.3) lib/declarative_authorization/obligation_scope.rb:81:in `follow_path'
  declarative_authorization (0.5.3) lib/declarative_authorization/obligation_scope.rb:69:in `parse!'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:76:in `obligation_scope_for'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:75:in `each'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:75:in `obligation_scope_for'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:59:in `included'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:102:in `call'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:102:in `with_permissions_to'
  activerecord (3.0.3) lib/active_record/relation.rb:365:in `send'
  activerecord (3.0.3) lib/active_record/relation.rb:365:in `method_missing'
  app/controllers/non_conformities_controller.rb:18:in `show_suppliers'
  actionpack (3.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (3.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (3.0.3) lib/abstract_controller/base.rb:151:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/rendering.rb:11:in `process_action'
  actionpack (3.0.3) lib/abstract_controller/callbacks.rb:18:in `process_action'
  activesupport (3.0.3) lib/active_support/callbacks.rb:450:in `_run__227336094__process_action__1783491803__callbacks'
  activesupport (3.0.3) lib/active_support/callbacks.rb:409:in `send'
  activesupport (3.0.3) lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
  activesupport (3.0.3) lib/active_support/callbacks.rb:93:in `send'
  activesupport (3.0.3) lib/active_support/callbacks.rb:93:in `run_callbacks'
  actionpack (3.0.3) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activesupport (3.0.3) lib/active_support/notifications.rb:52:in `instrument'
  activesupport (3.0.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (3.0.3) lib/active_support/notifications.rb:52:in `instrument'
  actionpack (3.0.3) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/rescue.rb:17:in `process_action'
  actionpack (3.0.3) lib/abstract_controller/base.rb:120:in `process'
  actionpack (3.0.3) lib/abstract_controller/rendering.rb:40:in `process'
  actionpack (3.0.3) lib/action_controller/metal.rb:138:in `dispatch'
  actionpack (3.0.3) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.0.3) lib/action_controller/metal.rb:178:in `action'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:62:in `call'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:27:in `call'
  rack-mount (0.6.14) lib/rack/mount/route_set.rb:148:in `call'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:93:in `recognize'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:68:in `optimized_each'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:92:in `recognize'
  rack-mount (0.6.14) lib/rack/mount/route_set.rb:139:in `call'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:492:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/head.rb:14:in `call'
  rack (1.2.3) lib/rack/methodoverride.rb:24:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/flash.rb:182:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/cookies.rb:295:in `call'
  activerecord (3.0.3) lib/active_record/query_cache.rb:32:in `call'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
  activerecord (3.0.3) lib/active_record/query_cache.rb:12:in `cache'
  activerecord (3.0.3) lib/active_record/query_cache.rb:31:in `call'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:353:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/callbacks.rb:46:in `call'
  activesupport (3.0.3) lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
  actionpack (3.0.3) lib/action_dispatch/middleware/callbacks.rb:44:in `call'
  rack (1.2.3) lib/rack/sendfile.rb:107:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
  railties (3.0.3) lib/rails/rack/logger.rb:13:in `call'
  rack (1.2.3) lib/rack/runtime.rb:17:in `call'
  activesupport (3.0.3) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `synchronize'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/static.rb:30:in `call'
  railties (3.0.3) lib/rails/application.rb:168:in `call'
  railties (3.0.3) lib/rails/application.rb:77:in `send'
  railties (3.0.3) lib/rails/application.rb:77:in `method_missing'
  railties (3.0.3) lib/rails/rack/log_tailer.rb:14:in `call'
  rack (1.2.3) lib/rack/content_length.rb:13:in `call'
  rack (1.2.3) lib/rack/chunked.rb:15:in `call'
  rack (1.2.3) lib/rack/handler/mongrel.rb:67:in `process'
  mongrel (1.1.5) lib/mongrel.rb:159:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:158:in `each'
  mongrel (1.1.5) lib/mongrel.rb:158:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:285:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:285:in `new'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:268:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:268:in `new'
  mongrel (1.1.5) lib/mongrel.rb:268:in `run'
  rack (1.2.3) lib/rack/handler/mongrel.rb:38:in `run'
  rack (1.2.3) lib/rack/server.rb:217:in `start'
  railties (3.0.3) lib/rails/commands/server.rb:65:in `start'
  railties (3.0.3) lib/rails/commands.rb:30
  railties (3.0.3) lib/rails/commands.rb:27:in `tap'
  railties (3.0.3) lib/rails/commands.rb:27
  /script/rails:6:in `require'
  /script/rails:6
  ruby-debug-ide (0.4.16) lib/ruby-debug-ide.rb:112:in `debug_load'
  ruby-debug-ide (0.4.16) lib/ruby-debug-ide.rb:112:in `debug_program'
  ruby-debug-ide (0.4.16) bin/rdebug-ide:87
  /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19:in `load'
  /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19

Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (20.0ms)
Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (25.5ms)


Started GET "/non_conformities/show_suppliers" for 127.0.0.1 at Fri Jul 13 15:22:47 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#show_suppliers as HTML
  [1m[35mSQL (155.0ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
Completed   in 225ms

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.length):
  declarative_authorization (0.5.3) lib/declarative_authorization/obligation_scope.rb:120:in `follow_comparison'
  declarative_authorization (0.5.3) lib/declarative_authorization/obligation_scope.rb:87:in `follow_path'
  declarative_authorization (0.5.3) lib/declarative_authorization/obligation_scope.rb:81:in `each'
  declarative_authorization (0.5.3) lib/declarative_authorization/obligation_scope.rb:81:in `follow_path'
  declarative_authorization (0.5.3) lib/declarative_authorization/obligation_scope.rb:69:in `parse!'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:76:in `obligation_scope_for'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:75:in `each'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:75:in `obligation_scope_for'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:59:in `included'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:102:in `call'
  declarative_authorization (0.5.3) lib/declarative_authorization/in_model.rb:102:in `with_permissions_to'
  activerecord (3.0.3) lib/active_record/relation.rb:365:in `send'
  activerecord (3.0.3) lib/active_record/relation.rb:365:in `method_missing'
  app/controllers/non_conformities_controller.rb:18:in `show_suppliers'
  actionpack (3.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (3.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (3.0.3) lib/abstract_controller/base.rb:151:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/rendering.rb:11:in `process_action'
  actionpack (3.0.3) lib/abstract_controller/callbacks.rb:18:in `process_action'
  activesupport (3.0.3) lib/active_support/callbacks.rb:450:in `_run__227336094__process_action__1783491803__callbacks'
  activesupport (3.0.3) lib/active_support/callbacks.rb:409:in `send'
  activesupport (3.0.3) lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
  activesupport (3.0.3) lib/active_support/callbacks.rb:93:in `send'
  activesupport (3.0.3) lib/active_support/callbacks.rb:93:in `run_callbacks'
  actionpack (3.0.3) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activesupport (3.0.3) lib/active_support/notifications.rb:52:in `instrument'
  activesupport (3.0.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (3.0.3) lib/active_support/notifications.rb:52:in `instrument'
  actionpack (3.0.3) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/rescue.rb:17:in `process_action'
  actionpack (3.0.3) lib/abstract_controller/base.rb:120:in `process'
  actionpack (3.0.3) lib/abstract_controller/rendering.rb:40:in `process'
  actionpack (3.0.3) lib/action_controller/metal.rb:138:in `dispatch'
  actionpack (3.0.3) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.0.3) lib/action_controller/metal.rb:178:in `action'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:62:in `call'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:27:in `call'
  rack-mount (0.6.14) lib/rack/mount/route_set.rb:148:in `call'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:93:in `recognize'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:68:in `optimized_each'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:92:in `recognize'
  rack-mount (0.6.14) lib/rack/mount/route_set.rb:139:in `call'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:492:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/head.rb:14:in `call'
  rack (1.2.3) lib/rack/methodoverride.rb:24:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/flash.rb:182:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/cookies.rb:295:in `call'
  activerecord (3.0.3) lib/active_record/query_cache.rb:32:in `call'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
  activerecord (3.0.3) lib/active_record/query_cache.rb:12:in `cache'
  activerecord (3.0.3) lib/active_record/query_cache.rb:31:in `call'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:353:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/callbacks.rb:46:in `call'
  activesupport (3.0.3) lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
  actionpack (3.0.3) lib/action_dispatch/middleware/callbacks.rb:44:in `call'
  rack (1.2.3) lib/rack/sendfile.rb:107:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
  railties (3.0.3) lib/rails/rack/logger.rb:13:in `call'
  rack (1.2.3) lib/rack/runtime.rb:17:in `call'
  activesupport (3.0.3) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `synchronize'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/static.rb:30:in `call'
  railties (3.0.3) lib/rails/application.rb:168:in `call'
  railties (3.0.3) lib/rails/application.rb:77:in `send'
  railties (3.0.3) lib/rails/application.rb:77:in `method_missing'
  railties (3.0.3) lib/rails/rack/log_tailer.rb:14:in `call'
  rack (1.2.3) lib/rack/content_length.rb:13:in `call'
  rack (1.2.3) lib/rack/chunked.rb:15:in `call'
  rack (1.2.3) lib/rack/handler/mongrel.rb:67:in `process'
  mongrel (1.1.5) lib/mongrel.rb:159:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:158:in `each'
  mongrel (1.1.5) lib/mongrel.rb:158:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:285:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:285:in `new'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:268:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:268:in `new'
  mongrel (1.1.5) lib/mongrel.rb:268:in `run'
  rack (1.2.3) lib/rack/handler/mongrel.rb:38:in `run'
  rack (1.2.3) lib/rack/server.rb:217:in `start'
  railties (3.0.3) lib/rails/commands/server.rb:65:in `start'
  railties (3.0.3) lib/rails/commands.rb:30
  railties (3.0.3) lib/rails/commands.rb:27:in `tap'
  railties (3.0.3) lib/rails/commands.rb:27
  /script/rails:6:in `require'
  /script/rails:6
  ruby-debug-ide (0.4.16) lib/ruby-debug-ide.rb:112:in `debug_load'
  ruby-debug-ide (0.4.16) lib/ruby-debug-ide.rb:112:in `debug_program'
  ruby-debug-ide (0.4.16) bin/rdebug-ide:87
  /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19:in `load'
  /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19

Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (220.4ms)
Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (19.1ms)
Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (244.3ms)
  [1m[35mSQL (51.4ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users`[0m
  [1m[35mSQL (1.7ms)[0m  SHOW TABLES
  [1m[36mUser Load (217.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`login` = 'co1')[0m
  [1m[35mUser Load (1.2ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (2.5ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m
  [1m[35mMonitoring Load (1.4ms)[0m  SELECT `monitorings`.* FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1))
  [1m[36mMonitoring Load (49.5ms)[0m  [1mSELECT distinct non_conformities.supplier FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (non_conformities.supplier IS NOT NULL AND non_conformities.supplier != "") ORDER BY non_conformities.supplier[0m
  [1m[35mMonitoring Load (269.5ms)[0m  SELECT distinct non_conformities.supplier FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (non_conformities.supplier IS NOT NULL AND non_conformities.supplier != "") ORDER BY non_conformities.supplier


Started GET "/non_conformities/show_suppliers" for 127.0.0.1 at Fri Jul 13 15:35:26 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#show_suppliers as HTML
  [1m[35mSQL (2.7ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
  [1m[35mMonitoring Load (2.6ms)[0m  SELECT distinct non_conformities.supplier FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (non_conformities.supplier IS NOT NULL AND non_conformities.supplier != "") ORDER BY non_conformities.supplier
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.4ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (283.9ms)
Rendered non_conformities/show_suppliers.html.erb within layouts/application (415.6ms)
Completed 200 OK in 552ms (Views: 424.0ms | ActiveRecord: 8.6ms)


Started GET "/non_conformities/show_suppliers" for 127.0.0.1 at Fri Jul 13 15:36:06 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#show_suppliers as HTML
  [1m[35mSQL (2.6ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
  [1m[35mMonitoring Load (4.5ms)[0m  SELECT distinct non_conformities.supplier FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (non_conformities.supplier IS NOT NULL AND non_conformities.supplier != "") ORDER BY non_conformities.supplier
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.4ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (281.7ms)
Rendered non_conformities/show_suppliers.html.erb within layouts/application (297.7ms)
Completed 200 OK in 442ms (Views: 305.6ms | ActiveRecord: 10.5ms)
DEPRECATION WARNING: Use toplevel init.rb; rails/init.rb is deprecated: /Users/ah/projects/gsmMonitoring/vendor/plugins/restful-authentication/rails/init.rb. (called from /Users/ah/projects/gsmMonitoring/config/environment.rb:5)
DEPRECATION WARNING: RAILS_ENV is deprecated. Please use ::Rails.env. (called from /Users/ah/projects/gsmMonitoring/config/initializers/mailer.rb:1)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mSQL (0.8ms)[0m  SHOW TABLES
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (58.9ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
  [1m[35mMonitoring Load (0.7ms)[0m  SELECT distinct non_conformity.id FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1))
Mysql2::Error: Unknown column 'non_conformity.id' in 'field list': SELECT distinct non_conformity.id FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1))
  [1m[36mMonitoring Load (0.7ms)[0m  [1mSELECT distinct non_conformities.id FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1))[0m


Started GET "/non_conformities/supplier_search?supplier=Core" for 127.0.0.1 at Fri Jul 13 15:53:48 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#supplier_search as HTML
  Parameters: {"supplier"=>"Core"}
  [1m[35mSQL (1.2ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
Completed   in 108ms

ArgumentError (malformed format string - %:):
  i18n (0.6.0) lib/i18n/core_ext/string/interpolate.rb:101:in `interpolate_without_ruby_19_syntax'
  i18n (0.6.0) lib/i18n/core_ext/string/interpolate.rb:101:in `send'
  i18n (0.6.0) lib/i18n/core_ext/string/interpolate.rb:101:in `%'
  activerecord (3.0.3) lib/active_record/base.rb:1321:in `sanitize_sql_array'
  activerecord (3.0.3) lib/active_record/base.rb:1224:in `sanitize_sql'
  activerecord (3.0.3) lib/active_record/relation/query_methods.rb:206:in `send'
  activerecord (3.0.3) lib/active_record/relation/query_methods.rb:206:in `build_where'
  activerecord (3.0.3) lib/active_record/relation/query_methods.rb:77:in `where'
  app/controllers/non_conformities_controller.rb:25:in `supplier_search'
  actionpack (3.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (3.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (3.0.3) lib/abstract_controller/base.rb:151:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/rendering.rb:11:in `process_action'
  actionpack (3.0.3) lib/abstract_controller/callbacks.rb:18:in `process_action'
  activesupport (3.0.3) lib/active_support/callbacks.rb:445:in `_run__227336094__process_action__697484145__callbacks'
  activesupport (3.0.3) lib/active_support/callbacks.rb:409:in `send'
  activesupport (3.0.3) lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
  activesupport (3.0.3) lib/active_support/callbacks.rb:93:in `send'
  activesupport (3.0.3) lib/active_support/callbacks.rb:93:in `run_callbacks'
  actionpack (3.0.3) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activesupport (3.0.3) lib/active_support/notifications.rb:52:in `instrument'
  activesupport (3.0.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (3.0.3) lib/active_support/notifications.rb:52:in `instrument'
  actionpack (3.0.3) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/rescue.rb:17:in `process_action'
  actionpack (3.0.3) lib/abstract_controller/base.rb:120:in `process'
  actionpack (3.0.3) lib/abstract_controller/rendering.rb:40:in `process'
  actionpack (3.0.3) lib/action_controller/metal.rb:138:in `dispatch'
  actionpack (3.0.3) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.0.3) lib/action_controller/metal.rb:178:in `action'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:62:in `call'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:27:in `call'
  rack-mount (0.6.14) lib/rack/mount/route_set.rb:148:in `call'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:93:in `recognize'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:68:in `optimized_each'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:92:in `recognize'
  rack-mount (0.6.14) lib/rack/mount/route_set.rb:139:in `call'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:492:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/head.rb:14:in `call'
  rack (1.2.3) lib/rack/methodoverride.rb:24:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/flash.rb:182:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/cookies.rb:295:in `call'
  activerecord (3.0.3) lib/active_record/query_cache.rb:32:in `call'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
  activerecord (3.0.3) lib/active_record/query_cache.rb:12:in `cache'
  activerecord (3.0.3) lib/active_record/query_cache.rb:31:in `call'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:353:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/callbacks.rb:46:in `call'
  activesupport (3.0.3) lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
  actionpack (3.0.3) lib/action_dispatch/middleware/callbacks.rb:44:in `call'
  rack (1.2.3) lib/rack/sendfile.rb:107:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
  railties (3.0.3) lib/rails/rack/logger.rb:13:in `call'
  rack (1.2.3) lib/rack/runtime.rb:17:in `call'
  activesupport (3.0.3) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `synchronize'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/static.rb:30:in `call'
  railties (3.0.3) lib/rails/application.rb:168:in `call'
  railties (3.0.3) lib/rails/application.rb:77:in `send'
  railties (3.0.3) lib/rails/application.rb:77:in `method_missing'
  railties (3.0.3) lib/rails/rack/log_tailer.rb:14:in `call'
  rack (1.2.3) lib/rack/content_length.rb:13:in `call'
  rack (1.2.3) lib/rack/chunked.rb:15:in `call'
  rack (1.2.3) lib/rack/handler/mongrel.rb:67:in `process'
  mongrel (1.1.5) lib/mongrel.rb:159:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:158:in `each'
  mongrel (1.1.5) lib/mongrel.rb:158:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:285:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:285:in `new'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:268:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:268:in `new'
  mongrel (1.1.5) lib/mongrel.rb:268:in `run'
  rack (1.2.3) lib/rack/handler/mongrel.rb:38:in `run'
  rack (1.2.3) lib/rack/server.rb:217:in `start'
  railties (3.0.3) lib/rails/commands/server.rb:65:in `start'
  railties (3.0.3) lib/rails/commands.rb:30
  railties (3.0.3) lib/rails/commands.rb:27:in `tap'
  railties (3.0.3) lib/rails/commands.rb:27
  /script/rails:6:in `require'
  /script/rails:6
  ruby-debug-ide (0.4.16) lib/ruby-debug-ide.rb:112:in `debug_load'
  ruby-debug-ide (0.4.16) lib/ruby-debug-ide.rb:112:in `debug_program'
  ruby-debug-ide (0.4.16) bin/rdebug-ide:87
  /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19:in `load'
  /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19

Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (19.2ms)
Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (25.9ms)


Started GET "/non_conformities/supplier_search?supplier=Core" for 127.0.0.1 at Fri Jul 13 15:54:52 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#supplier_search as HTML
  Parameters: {"supplier"=>"Core"}
  [1m[35mSQL (2.6ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
  [1m[35mMonitoring Load (0.4ms)[0m  SELECT distinct non_conformity_id FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (supplier like :arg)
Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':arg)' at line 1: SELECT distinct non_conformity_id FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (supplier like :arg)
Completed   in 344ms

ActiveRecord::StatementInvalid (Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':arg)' at line 1: SELECT distinct non_conformity_id FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (supplier like :arg)):
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract_adapter.rb:202:in `log'
  mysql2 (0.2.13) lib/active_record/connection_adapters/mysql2_adapter.rb:265:in `execute'
  mysql2 (0.2.13) lib/active_record/connection_adapters/mysql2_adapter.rb:586:in `select'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/database_statements.rb:7:in `select_all'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/query_cache.rb:54:in `select_all'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/query_cache.rb:68:in `cache_sql'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/query_cache.rb:54:in `select_all'
  activerecord (3.0.3) lib/active_record/base.rb:467:in `find_by_sql'
  activerecord (3.0.3) lib/active_record/relation.rb:64:in `to_a'
  activerecord (3.0.3) lib/active_record/relation/predicate_builder.rb:27:in `build_from_hash'
  declarative_authorization (0.5.3) lib/declarative_authorization/reader.rb:79:in `map'
  activerecord (3.0.3) lib/active_record/relation/predicate_builder.rb:9:in `each'
  activerecord (3.0.3) lib/active_record/relation/predicate_builder.rb:9:in `map'
  activerecord (3.0.3) lib/active_record/relation/predicate_builder.rb:9:in `build_from_hash'
  activerecord (3.0.3) lib/active_record/relation/query_methods.rb:209:in `build_where'
  activerecord (3.0.3) lib/active_record/relation/query_methods.rb:77:in `where'
  activerecord (3.0.3) lib/active_record/base.rb:441:in `__send__'
  activerecord (3.0.3) lib/active_record/base.rb:441:in `where'
  app/controllers/non_conformities_controller.rb:25:in `supplier_search'
  actionpack (3.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (3.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (3.0.3) lib/abstract_controller/base.rb:151:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/rendering.rb:11:in `process_action'
  actionpack (3.0.3) lib/abstract_controller/callbacks.rb:18:in `process_action'
  activesupport (3.0.3) lib/active_support/callbacks.rb:445:in `_run__227336094__process_action__697484145__callbacks'
  activesupport (3.0.3) lib/active_support/callbacks.rb:409:in `send'
  activesupport (3.0.3) lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
  activesupport (3.0.3) lib/active_support/callbacks.rb:93:in `send'
  activesupport (3.0.3) lib/active_support/callbacks.rb:93:in `run_callbacks'
  actionpack (3.0.3) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activesupport (3.0.3) lib/active_support/notifications.rb:52:in `instrument'
  activesupport (3.0.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (3.0.3) lib/active_support/notifications.rb:52:in `instrument'
  actionpack (3.0.3) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/rescue.rb:17:in `process_action'
  actionpack (3.0.3) lib/abstract_controller/base.rb:120:in `process'
  actionpack (3.0.3) lib/abstract_controller/rendering.rb:40:in `process'
  actionpack (3.0.3) lib/action_controller/metal.rb:138:in `dispatch'
  actionpack (3.0.3) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.0.3) lib/action_controller/metal.rb:178:in `action'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:62:in `call'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:27:in `call'
  rack-mount (0.6.14) lib/rack/mount/route_set.rb:148:in `call'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:93:in `recognize'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:68:in `optimized_each'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:92:in `recognize'
  rack-mount (0.6.14) lib/rack/mount/route_set.rb:139:in `call'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:492:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/head.rb:14:in `call'
  rack (1.2.3) lib/rack/methodoverride.rb:24:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/flash.rb:182:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/cookies.rb:295:in `call'
  activerecord (3.0.3) lib/active_record/query_cache.rb:32:in `call'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
  activerecord (3.0.3) lib/active_record/query_cache.rb:12:in `cache'
  activerecord (3.0.3) lib/active_record/query_cache.rb:31:in `call'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:353:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/callbacks.rb:46:in `call'
  activesupport (3.0.3) lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
  actionpack (3.0.3) lib/action_dispatch/middleware/callbacks.rb:44:in `call'
  rack (1.2.3) lib/rack/sendfile.rb:107:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
  railties (3.0.3) lib/rails/rack/logger.rb:13:in `call'
  rack (1.2.3) lib/rack/runtime.rb:17:in `call'
  activesupport (3.0.3) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `synchronize'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/static.rb:30:in `call'
  railties (3.0.3) lib/rails/application.rb:168:in `call'
  railties (3.0.3) lib/rails/application.rb:77:in `send'
  railties (3.0.3) lib/rails/application.rb:77:in `method_missing'
  railties (3.0.3) lib/rails/rack/log_tailer.rb:14:in `call'
  rack (1.2.3) lib/rack/content_length.rb:13:in `call'
  rack (1.2.3) lib/rack/chunked.rb:15:in `call'
  rack (1.2.3) lib/rack/handler/mongrel.rb:67:in `process'
  mongrel (1.1.5) lib/mongrel.rb:159:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:158:in `each'
  mongrel (1.1.5) lib/mongrel.rb:158:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:285:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:285:in `new'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:268:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:268:in `new'
  mongrel (1.1.5) lib/mongrel.rb:268:in `run'
  rack (1.2.3) lib/rack/handler/mongrel.rb:38:in `run'
  rack (1.2.3) lib/rack/server.rb:217:in `start'
  railties (3.0.3) lib/rails/commands/server.rb:65:in `start'
  railties (3.0.3) lib/rails/commands.rb:30
  railties (3.0.3) lib/rails/commands.rb:27:in `tap'
  railties (3.0.3) lib/rails/commands.rb:27
  /script/rails:6:in `require'
  /script/rails:6
  ruby-debug-ide (0.4.16) lib/ruby-debug-ide.rb:112:in `debug_load'
  ruby-debug-ide (0.4.16) lib/ruby-debug-ide.rb:112:in `debug_program'
  ruby-debug-ide (0.4.16) bin/rdebug-ide:87
  /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19:in `load'
  /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19

Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (21.1ms)
Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (27.1ms)


Started GET "/non_conformities/supplier_search?supplier=Core" for 127.0.0.1 at Fri Jul 13 15:55:25 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#supplier_search as HTML
  Parameters: {"supplier"=>"Core"}
  [1m[36mSQL (2.6ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mMonitoring Load (0.4ms)[0m  [1mSELECT distinct non_conformity_id FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (supplier like '%Core%')[0m
Mysql2::Error: Unknown column 'non_conformity_id' in 'field list': SELECT distinct non_conformity_id FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (supplier like '%Core%')
Completed   in 118ms

ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'non_conformity_id' in 'field list': SELECT distinct non_conformity_id FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (supplier like '%Core%')):
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract_adapter.rb:202:in `log'
  mysql2 (0.2.13) lib/active_record/connection_adapters/mysql2_adapter.rb:265:in `execute'
  mysql2 (0.2.13) lib/active_record/connection_adapters/mysql2_adapter.rb:586:in `select'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/database_statements.rb:7:in `select_all'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/query_cache.rb:54:in `select_all'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/query_cache.rb:68:in `cache_sql'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/query_cache.rb:54:in `select_all'
  activerecord (3.0.3) lib/active_record/base.rb:467:in `find_by_sql'
  activerecord (3.0.3) lib/active_record/relation.rb:64:in `to_a'
  activerecord (3.0.3) lib/active_record/relation/predicate_builder.rb:27:in `build_from_hash'
  declarative_authorization (0.5.3) lib/declarative_authorization/reader.rb:79:in `map'
  activerecord (3.0.3) lib/active_record/relation/predicate_builder.rb:9:in `each'
  activerecord (3.0.3) lib/active_record/relation/predicate_builder.rb:9:in `map'
  activerecord (3.0.3) lib/active_record/relation/predicate_builder.rb:9:in `build_from_hash'
  activerecord (3.0.3) lib/active_record/relation/query_methods.rb:209:in `build_where'
  activerecord (3.0.3) lib/active_record/relation/query_methods.rb:77:in `where'
  activerecord (3.0.3) lib/active_record/base.rb:441:in `__send__'
  activerecord (3.0.3) lib/active_record/base.rb:441:in `where'
  app/controllers/non_conformities_controller.rb:25:in `supplier_search'
  actionpack (3.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (3.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (3.0.3) lib/abstract_controller/base.rb:151:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/rendering.rb:11:in `process_action'
  actionpack (3.0.3) lib/abstract_controller/callbacks.rb:18:in `process_action'
  activesupport (3.0.3) lib/active_support/callbacks.rb:445:in `_run__227336094__process_action__697484145__callbacks'
  activesupport (3.0.3) lib/active_support/callbacks.rb:409:in `send'
  activesupport (3.0.3) lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
  activesupport (3.0.3) lib/active_support/callbacks.rb:93:in `send'
  activesupport (3.0.3) lib/active_support/callbacks.rb:93:in `run_callbacks'
  actionpack (3.0.3) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activesupport (3.0.3) lib/active_support/notifications.rb:52:in `instrument'
  activesupport (3.0.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (3.0.3) lib/active_support/notifications.rb:52:in `instrument'
  actionpack (3.0.3) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/rescue.rb:17:in `process_action'
  actionpack (3.0.3) lib/abstract_controller/base.rb:120:in `process'
  actionpack (3.0.3) lib/abstract_controller/rendering.rb:40:in `process'
  actionpack (3.0.3) lib/action_controller/metal.rb:138:in `dispatch'
  actionpack (3.0.3) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.0.3) lib/action_controller/metal.rb:178:in `action'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:62:in `call'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:27:in `call'
  rack-mount (0.6.14) lib/rack/mount/route_set.rb:148:in `call'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:93:in `recognize'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:68:in `optimized_each'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:92:in `recognize'
  rack-mount (0.6.14) lib/rack/mount/route_set.rb:139:in `call'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:492:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/head.rb:14:in `call'
  rack (1.2.3) lib/rack/methodoverride.rb:24:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/flash.rb:182:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/cookies.rb:295:in `call'
  activerecord (3.0.3) lib/active_record/query_cache.rb:32:in `call'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
  activerecord (3.0.3) lib/active_record/query_cache.rb:12:in `cache'
  activerecord (3.0.3) lib/active_record/query_cache.rb:31:in `call'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:353:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/callbacks.rb:46:in `call'
  activesupport (3.0.3) lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
  actionpack (3.0.3) lib/action_dispatch/middleware/callbacks.rb:44:in `call'
  rack (1.2.3) lib/rack/sendfile.rb:107:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
  railties (3.0.3) lib/rails/rack/logger.rb:13:in `call'
  rack (1.2.3) lib/rack/runtime.rb:17:in `call'
  activesupport (3.0.3) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `synchronize'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/static.rb:30:in `call'
  railties (3.0.3) lib/rails/application.rb:168:in `call'
  railties (3.0.3) lib/rails/application.rb:77:in `send'
  railties (3.0.3) lib/rails/application.rb:77:in `method_missing'
  railties (3.0.3) lib/rails/rack/log_tailer.rb:14:in `call'
  rack (1.2.3) lib/rack/content_length.rb:13:in `call'
  rack (1.2.3) lib/rack/chunked.rb:15:in `call'
  rack (1.2.3) lib/rack/handler/mongrel.rb:67:in `process'
  mongrel (1.1.5) lib/mongrel.rb:159:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:158:in `each'
  mongrel (1.1.5) lib/mongrel.rb:158:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:285:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:285:in `new'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:268:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:268:in `new'
  mongrel (1.1.5) lib/mongrel.rb:268:in `run'
  rack (1.2.3) lib/rack/handler/mongrel.rb:38:in `run'
  rack (1.2.3) lib/rack/server.rb:217:in `start'
  railties (3.0.3) lib/rails/commands/server.rb:65:in `start'
  railties (3.0.3) lib/rails/commands.rb:30
  railties (3.0.3) lib/rails/commands.rb:27:in `tap'
  railties (3.0.3) lib/rails/commands.rb:27
  /script/rails:6:in `require'
  /script/rails:6
  ruby-debug-ide (0.4.16) lib/ruby-debug-ide.rb:112:in `debug_load'
  ruby-debug-ide (0.4.16) lib/ruby-debug-ide.rb:112:in `debug_program'
  ruby-debug-ide (0.4.16) bin/rdebug-ide:87
  /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19:in `load'
  /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19

Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (19.3ms)
Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (253.6ms)


Started GET "/non_conformities/supplier_search?supplier=Core" for 127.0.0.1 at Fri Jul 13 15:55:50 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#supplier_search as HTML
  Parameters: {"supplier"=>"Core"}
  [1m[35mSQL (2.7ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
  [1m[35mMonitoring Load (0.4ms)[0m  SELECT distinct non_conformity_id FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (non_conformities.supplier like '%Core%')
Mysql2::Error: Unknown column 'non_conformity_id' in 'field list': SELECT distinct non_conformity_id FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (non_conformities.supplier like '%Core%')
Completed   in 335ms

ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'non_conformity_id' in 'field list': SELECT distinct non_conformity_id FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (non_conformities.supplier like '%Core%')):
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract_adapter.rb:202:in `log'
  mysql2 (0.2.13) lib/active_record/connection_adapters/mysql2_adapter.rb:265:in `execute'
  mysql2 (0.2.13) lib/active_record/connection_adapters/mysql2_adapter.rb:586:in `select'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/database_statements.rb:7:in `select_all'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/query_cache.rb:54:in `select_all'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/query_cache.rb:68:in `cache_sql'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/query_cache.rb:54:in `select_all'
  activerecord (3.0.3) lib/active_record/base.rb:467:in `find_by_sql'
  activerecord (3.0.3) lib/active_record/relation.rb:64:in `to_a'
  activerecord (3.0.3) lib/active_record/relation/predicate_builder.rb:27:in `build_from_hash'
  declarative_authorization (0.5.3) lib/declarative_authorization/reader.rb:79:in `map'
  activerecord (3.0.3) lib/active_record/relation/predicate_builder.rb:9:in `each'
  activerecord (3.0.3) lib/active_record/relation/predicate_builder.rb:9:in `map'
  activerecord (3.0.3) lib/active_record/relation/predicate_builder.rb:9:in `build_from_hash'
  activerecord (3.0.3) lib/active_record/relation/query_methods.rb:209:in `build_where'
  activerecord (3.0.3) lib/active_record/relation/query_methods.rb:77:in `where'
  activerecord (3.0.3) lib/active_record/base.rb:441:in `__send__'
  activerecord (3.0.3) lib/active_record/base.rb:441:in `where'
  app/controllers/non_conformities_controller.rb:25:in `supplier_search'
  actionpack (3.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (3.0.3) lib/action_controller/metal/implicit_render.rb:4:in `send_action'
  actionpack (3.0.3) lib/abstract_controller/base.rb:151:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/rendering.rb:11:in `process_action'
  actionpack (3.0.3) lib/abstract_controller/callbacks.rb:18:in `process_action'
  activesupport (3.0.3) lib/active_support/callbacks.rb:445:in `_run__227336094__process_action__697484145__callbacks'
  activesupport (3.0.3) lib/active_support/callbacks.rb:409:in `send'
  activesupport (3.0.3) lib/active_support/callbacks.rb:409:in `_run_process_action_callbacks'
  activesupport (3.0.3) lib/active_support/callbacks.rb:93:in `send'
  activesupport (3.0.3) lib/active_support/callbacks.rb:93:in `run_callbacks'
  actionpack (3.0.3) lib/abstract_controller/callbacks.rb:17:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  activesupport (3.0.3) lib/active_support/notifications.rb:52:in `instrument'
  activesupport (3.0.3) lib/active_support/notifications/instrumenter.rb:21:in `instrument'
  activesupport (3.0.3) lib/active_support/notifications.rb:52:in `instrument'
  actionpack (3.0.3) lib/action_controller/metal/instrumentation.rb:29:in `process_action'
  actionpack (3.0.3) lib/action_controller/metal/rescue.rb:17:in `process_action'
  actionpack (3.0.3) lib/abstract_controller/base.rb:120:in `process'
  actionpack (3.0.3) lib/abstract_controller/rendering.rb:40:in `process'
  actionpack (3.0.3) lib/action_controller/metal.rb:138:in `dispatch'
  actionpack (3.0.3) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.0.3) lib/action_controller/metal.rb:178:in `action'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:62:in `call'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:27:in `call'
  rack-mount (0.6.14) lib/rack/mount/route_set.rb:148:in `call'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:93:in `recognize'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:68:in `optimized_each'
  rack-mount (0.6.14) lib/rack/mount/code_generation.rb:92:in `recognize'
  rack-mount (0.6.14) lib/rack/mount/route_set.rb:139:in `call'
  actionpack (3.0.3) lib/action_dispatch/routing/route_set.rb:492:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/head.rb:14:in `call'
  rack (1.2.3) lib/rack/methodoverride.rb:24:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/flash.rb:182:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/cookies.rb:295:in `call'
  activerecord (3.0.3) lib/active_record/query_cache.rb:32:in `call'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
  activerecord (3.0.3) lib/active_record/query_cache.rb:12:in `cache'
  activerecord (3.0.3) lib/active_record/query_cache.rb:31:in `call'
  activerecord (3.0.3) lib/active_record/connection_adapters/abstract/connection_pool.rb:353:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/callbacks.rb:46:in `call'
  activesupport (3.0.3) lib/active_support/callbacks.rb:415:in `_run_call_callbacks'
  actionpack (3.0.3) lib/action_dispatch/middleware/callbacks.rb:44:in `call'
  rack (1.2.3) lib/rack/sendfile.rb:107:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/show_exceptions.rb:46:in `call'
  railties (3.0.3) lib/rails/rack/logger.rb:13:in `call'
  rack (1.2.3) lib/rack/runtime.rb:17:in `call'
  activesupport (3.0.3) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  rack (1.2.3) lib/rack/lock.rb:11:in `synchronize'
  rack (1.2.3) lib/rack/lock.rb:11:in `call'
  actionpack (3.0.3) lib/action_dispatch/middleware/static.rb:30:in `call'
  railties (3.0.3) lib/rails/application.rb:168:in `call'
  railties (3.0.3) lib/rails/application.rb:77:in `send'
  railties (3.0.3) lib/rails/application.rb:77:in `method_missing'
  railties (3.0.3) lib/rails/rack/log_tailer.rb:14:in `call'
  rack (1.2.3) lib/rack/content_length.rb:13:in `call'
  rack (1.2.3) lib/rack/chunked.rb:15:in `call'
  rack (1.2.3) lib/rack/handler/mongrel.rb:67:in `process'
  mongrel (1.1.5) lib/mongrel.rb:159:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:158:in `each'
  mongrel (1.1.5) lib/mongrel.rb:158:in `process_client'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:285:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:285:in `new'
  mongrel (1.1.5) lib/mongrel.rb:285:in `run'
  mongrel (1.1.5) lib/mongrel.rb:268:in `initialize'
  mongrel (1.1.5) lib/mongrel.rb:268:in `new'
  mongrel (1.1.5) lib/mongrel.rb:268:in `run'
  rack (1.2.3) lib/rack/handler/mongrel.rb:38:in `run'
  rack (1.2.3) lib/rack/server.rb:217:in `start'
  railties (3.0.3) lib/rails/commands/server.rb:65:in `start'
  railties (3.0.3) lib/rails/commands.rb:30
  railties (3.0.3) lib/rails/commands.rb:27:in `tap'
  railties (3.0.3) lib/rails/commands.rb:27
  /script/rails:6:in `require'
  /script/rails:6
  ruby-debug-ide (0.4.16) lib/ruby-debug-ide.rb:112:in `debug_load'
  ruby-debug-ide (0.4.16) lib/ruby-debug-ide.rb:112:in `debug_program'
  ruby-debug-ide (0.4.16) bin/rdebug-ide:87
  /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19:in `load'
  /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19

Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (18.9ms)
Rendered /Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/actionpack-3.0.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (24.7ms)


Started GET "/non_conformities/supplier_search?supplier=Core" for 127.0.0.1 at Fri Jul 13 15:56:17 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#supplier_search as HTML
  Parameters: {"supplier"=>"Core"}
  [1m[36mSQL (2.6ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mMonitoring Load (1.5ms)[0m  [1mSELECT distinct non_conformities.id FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (non_conformities.supplier like '%Core%')[0m
  [1m[35mSQL (51.9ms)[0m  SELECT COUNT(*) FROM `non_conformities` WHERE (`non_conformities`.`id` IN (32))
  [1m[36mNonConformity Load (0.4ms)[0m  [1mSELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.`id` IN (32))[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (95.4ms)
Rendered non_conformities/supplier_search.html.erb within layouts/application (168.2ms)
Completed 200 OK in 547ms (Views: 128.0ms | ActiveRecord: 59.8ms)
  [1m[35mSQL (212.4ms)[0m  SHOW TABLES
DEPRECATION WARNING: Use toplevel init.rb; rails/init.rb is deprecated: /Users/ah/projects/gsmMonitoring/vendor/plugins/restful-authentication/rails/init.rb. (called from /Users/ah/projects/gsmMonitoring/config/environment.rb:5)
DEPRECATION WARNING: RAILS_ENV is deprecated. Please use ::Rails.env. (called from /Users/ah/projects/gsmMonitoring/config/initializers/mailer.rb:1)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)


Started GET "/non_conformities/supplier_search?supplier=Core" for 127.0.0.1 at Fri Jul 13 16:20:42 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#supplier_search as HTML
  Parameters: {"supplier"=>"Core"}
  [1m[36mSQL (30.2ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (1.9ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (1.5ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mMonitoring Load (0.5ms)[0m  [1mSELECT distinct non_conformities.id FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (non_conformities.supplier like '%Core%')[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM `non_conformities` WHERE (`non_conformities`.`id` IN (32))
  [1m[36mNonConformity Load (0.2ms)[0m  [1mSELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.`id` IN (32))[0m
  [1m[35mMonitoring Load (0.4ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 22) LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.4ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (416.6ms)
Rendered non_conformities/supplier_search.html.erb within layouts/application (532.8ms)
Completed 200 OK in 1145ms (Views: 569.4ms | ActiveRecord: 38.2ms)


Started GET "/non_conformities/supplier_search?supplier=Core" for 127.0.0.1 at Fri Jul 13 16:21:19 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#supplier_search as HTML
  Parameters: {"supplier"=>"Core"}
  [1m[35mSQL (2.7ms)[0m  describe `roles_users`
  [1m[36mUser Load (5.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  describe `roles_users`
  [1m[36mRole Load (1.9ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
  [1m[35mMonitoring Load (0.4ms)[0m  SELECT distinct non_conformities.id FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (non_conformities.supplier like '%Core%')
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `non_conformities` WHERE (`non_conformities`.`id` IN (32))[0m
  [1m[35mNonConformity Load (0.2ms)[0m  SELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.`id` IN (32))
  [1m[36mMonitoring Load (0.6ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 22) LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.6ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (67.0ms)
Rendered non_conformities/supplier_search.html.erb within layouts/application (99.9ms)
Completed 200 OK in 869ms (Views: 109.3ms | ActiveRecord: 15.3ms)


Started GET "/monitorings/22/non_conformities/32" for 127.0.0.1 at Fri Jul 13 16:21:24 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#show as HTML
  Parameters: {"monitoring_id"=>"22", "id"=>"32"}
  [1m[36mSQL (3.5ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (2.6ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mMonitoring Load (0.5ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 22) LIMIT 1[0m
  [1m[35mNonConformity Load (0.6ms)[0m  SELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.monitoring_id = 22) AND (`non_conformities`.`id` = 32) LIMIT 1
Rendered monitorings/_search_form.html.erb (2.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 22) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM `non_conformity_attachments` WHERE (`non_conformity_attachments`.non_conformity_id = 32)
  [1m[36mResolutionProposal Load (0.4ms)[0m  [1mSELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 32) LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.5ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.5ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (66.9ms)
Rendered non_conformities/show.html.erb within layouts/application (599.3ms)
Completed 200 OK in 771ms (Views: 624.5ms | ActiveRecord: 11.3ms)


Started GET "/non_conformities/supplier_search?supplier=Core" for 127.0.0.1 at Fri Jul 13 16:35:09 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#supplier_search as HTML
  Parameters: {"supplier"=>"Core"}
  [1m[36mSQL (25.4ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (3.8ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mMonitoring Load (0.7ms)[0m  [1mSELECT distinct non_conformities.id FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (non_conformities.supplier like '%%')[0m
Rendered non_conformities/_search_form.html.erb (1.8ms)
  [1m[35mSQL (63.3ms)[0m  SELECT COUNT(*) FROM `non_conformities` WHERE (`non_conformities`.`id` IN (27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 45, 47, 48))
  [1m[36mNonConformity Load (0.4ms)[0m  [1mSELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.`id` IN (27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 45, 47, 48))[0m
  [1m[35mMonitoring Load (0.4ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1
  [1m[36mMonitoring Load (0.3ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 13) LIMIT 1[0m
  [1m[35mMonitoring Load (0.3ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 10) LIMIT 1
  [1m[36mMonitoring Load (0.2ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 3) LIMIT 1[0m
  [1m[35mMonitoring Load (0.3ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 22) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 22) LIMIT 1[0m
  [1m[35mMonitoring Load (0.4ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 8) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 8) LIMIT 1[0m
  [1m[35mMonitoring Load (0.5ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 9) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 9) LIMIT 1[0m
  [1m[35mMonitoring Load (0.4ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.4ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (66.6ms)
Rendered non_conformities/supplier_search.html.erb within layouts/application (187.5ms)
Completed 200 OK in 856ms (Views: 185.2ms | ActiveRecord: 99.3ms)


Started GET "/non_conformities/supplier_search?utf8=%E2%9C%93&search_term=Core&cx=Suchen&ie=UTF-8&commit=" for 127.0.0.1 at Fri Jul 13 16:35:37 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#supplier_search as HTML
  Parameters: {"commit"=>"", "utf8"=>"\342\234\223", "ie"=>"UTF-8", "search_term"=>"Core", "cx"=>"Suchen"}
  [1m[35mSQL (2.7ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  describe `roles_users`
  [1m[36mRole Load (1.9ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
  [1m[35mMonitoring Load (0.7ms)[0m  SELECT distinct non_conformities.id FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (non_conformities.supplier like '%Core%')
Rendered non_conformities/_search_form.html.erb (1.2ms)
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `non_conformities` WHERE (`non_conformities`.`id` IN (32))[0m
  [1m[35mNonConformity Load (0.3ms)[0m  SELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.`id` IN (32))
  [1m[36mMonitoring Load (84.5ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 22) LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.3ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (64.2ms)
Rendered non_conformities/supplier_search.html.erb within layouts/application (490.0ms)
Completed 200 OK in 640ms (Views: 413.2ms | ActiveRecord: 93.3ms)


Started GET "/monitorings/22/non_conformities/32" for 127.0.0.1 at Fri Jul 13 16:36:02 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#show as HTML
  Parameters: {"monitoring_id"=>"22", "id"=>"32"}
  [1m[36mSQL (2.9ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mMonitoring Load (0.4ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 22) LIMIT 1[0m
  [1m[35mNonConformity Load (0.4ms)[0m  SELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.monitoring_id = 22) AND (`non_conformities`.`id` = 32) LIMIT 1
Rendered monitorings/_search_form.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 22) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  SELECT COUNT(*) FROM `non_conformity_attachments` WHERE (`non_conformity_attachments`.non_conformity_id = 32)
  [1m[36mResolutionProposal Load (0.4ms)[0m  [1mSELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 32) LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (373.3ms)
Rendered non_conformities/show.html.erb within layouts/application (431.8ms)
Completed 200 OK in 567ms (Views: 441.5ms | ActiveRecord: 8.2ms)


Started GET "/monitorings/22/non_conformities/32" for 127.0.0.1 at Fri Jul 13 16:43:22 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#show as HTML
  Parameters: {"monitoring_id"=>"22", "id"=>"32"}
  [1m[36mSQL (46.5ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (1.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mMonitoring Load (0.5ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 22) LIMIT 1[0m
  [1m[35mNonConformity Load (0.6ms)[0m  SELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.monitoring_id = 22) AND (`non_conformities`.`id` = 32) LIMIT 1
Rendered monitorings/_search_form.html.erb (1.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 22) LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  SELECT COUNT(*) FROM `non_conformity_attachments` WHERE (`non_conformity_attachments`.non_conformity_id = 32)
  [1m[36mResolutionProposal Load (0.4ms)[0m  [1mSELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 32) LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (326.8ms)
Rendered non_conformities/show.html.erb within layouts/application (521.3ms)
Completed 200 OK in 667ms (Views: 528.8ms | ActiveRecord: 54.3ms)


Started GET "/non_conformities/show_suppliers" for 127.0.0.1 at Fri Jul 13 16:43:26 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#show_suppliers as HTML
  [1m[36mSQL (2.7ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mMonitoring Load (3.1ms)[0m  [1mSELECT distinct non_conformities.supplier FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (non_conformities.supplier IS NOT NULL AND non_conformities.supplier != "") ORDER BY non_conformities.supplier[0m
Rendered non_conformities/_search_form.html.erb (1.4ms)
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.6ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (325.8ms)
Rendered non_conformities/show_suppliers.html.erb within layouts/application (346.2ms)
Completed 200 OK in 485ms (Views: 354.9ms | ActiveRecord: 9.1ms)


Started GET "/non_conformities/show_suppliers" for 127.0.0.1 at Fri Jul 13 16:44:22 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#show_suppliers as HTML
  [1m[36mSQL (1.2ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mMonitoring Load (2.9ms)[0m  [1mSELECT distinct non_conformities.supplier FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (non_conformities.supplier IS NOT NULL AND non_conformities.supplier != "") ORDER BY non_conformities.supplier[0m
Rendered non_conformities/_search_form.html.erb (1.4ms)
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (325.5ms)
Rendered non_conformities/show_suppliers.html.erb within layouts/application (347.9ms)
Completed 200 OK in 486ms (Views: 356.2ms | ActiveRecord: 7.7ms)


Started GET "/non_conformities/supplier_search?search_term=Core+Waste+Dump" for 127.0.0.1 at Fri Jul 13 16:44:25 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#supplier_search as HTML
  Parameters: {"search_term"=>"Core Waste Dump"}
  [1m[36mSQL (2.8ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mMonitoring Load (0.5ms)[0m  [1mSELECT distinct non_conformities.id FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (non_conformities.supplier like '%Core Waste Dump%')[0m
Rendered non_conformities/_search_form.html.erb (1.3ms)
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM `non_conformities` WHERE (`non_conformities`.`id` IN (32))
  [1m[36mNonConformity Load (0.2ms)[0m  [1mSELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.`id` IN (32))[0m
  [1m[35mMonitoring Load (0.3ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 22) LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.4ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (333.7ms)
Rendered non_conformities/supplier_search.html.erb within layouts/application (369.6ms)
Completed 200 OK in 510ms (Views: 378.1ms | ActiveRecord: 7.3ms)


Started GET "/non_conformities/show_suppliers" for 127.0.0.1 at Fri Jul 13 16:45:47 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#show_suppliers as HTML
  [1m[35mSQL (103.8ms)[0m  describe `roles_users`
  [1m[36mUser Load (2.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
  [1m[35mMonitoring Load (4.9ms)[0m  SELECT distinct non_conformities.supplier FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (non_conformities.supplier IS NOT NULL AND non_conformities.supplier != "") ORDER BY non_conformities.supplier
Rendered non_conformities/_search_form.html.erb (1.3ms)
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.4ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (87.1ms)
Rendered non_conformities/show_suppliers.html.erb within layouts/application (108.4ms)
Completed 200 OK in 611ms (Views: 117.7ms | ActiveRecord: 114.5ms)


Started GET "/non_conformities/supplier_search?search_term=thatheth" for 127.0.0.1 at Fri Jul 13 16:45:50 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#supplier_search as HTML
  Parameters: {"search_term"=>"thatheth"}
  [1m[35mSQL (2.7ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
  [1m[35mMonitoring Load (0.8ms)[0m  SELECT distinct non_conformities.id FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (non_conformities.supplier like '%thatheth%')
Rendered non_conformities/_search_form.html.erb (1.3ms)
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM `non_conformities` WHERE (`non_conformities`.`id` IN (27))[0m
  [1m[35mNonConformity Load (0.6ms)[0m  SELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.`id` IN (27))
  [1m[36mMonitoring Load (0.3ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (65.9ms)
Rendered non_conformities/supplier_search.html.erb within layouts/application (101.6ms)
Completed 200 OK in 477ms (Views: 109.8ms | ActiveRecord: 8.2ms)


Started GET "/non_conformities/show_suppliers" for 127.0.0.1 at Fri Jul 13 16:45:53 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#show_suppliers as HTML
  [1m[36mSQL (44.4ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (1.6ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (2.4ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mMonitoring Load (5.1ms)[0m  [1mSELECT distinct non_conformities.supplier FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (non_conformities.supplier IS NOT NULL AND non_conformities.supplier != "") ORDER BY non_conformities.supplier[0m
Rendered non_conformities/_search_form.html.erb (1.4ms)
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.5ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (61.8ms)
Rendered non_conformities/show_suppliers.html.erb within layouts/application (85.8ms)
Completed 200 OK in 639ms (Views: 94.1ms | ActiveRecord: 55.4ms)


Started GET "/non_conformities/supplier_search?search_term=janeintest" for 127.0.0.1 at Fri Jul 13 16:46:11 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#supplier_search as HTML
  Parameters: {"search_term"=>"janeintest"}
  [1m[36mSQL (2.7ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
  [1m[36mMonitoring Load (0.4ms)[0m  [1mSELECT distinct non_conformities.id FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (non_conformities.supplier like '%janeintest%')[0m
Rendered non_conformities/_search_form.html.erb (1.3ms)
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM `non_conformities` WHERE (`non_conformities`.`id` IN (48))
  [1m[36mNonConformity Load (0.2ms)[0m  [1mSELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.`id` IN (48))[0m
  [1m[35mMonitoring Load (0.4ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 20) LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.5ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.4ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (83.3ms)
Rendered non_conformities/supplier_search.html.erb within layouts/application (118.0ms)
Completed 200 OK in 663ms (Views: 125.4ms | ActiveRecord: 7.5ms)


Started GET "/non_conformities/show_suppliers" for 127.0.0.1 at Fri Jul 13 16:46:14 +0200 2012
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:15)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:24)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:27)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  Processing by NonConformitiesController#show_suppliers as HTML
  [1m[35mSQL (2.8ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
  [1m[35mMonitoring Load (4.2ms)[0m  SELECT distinct non_conformities.supplier FROM `monitorings` INNER JOIN `non_conformities` ON `non_conformities`.`monitoring_id` = `monitorings`.`id` WHERE ((1=1)) AND (non_conformities.supplier IS NOT NULL AND non_conformities.supplier != "") ORDER BY non_conformities.supplier
Rendered non_conformities/_search_form.html.erb (1.3ms)
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.4ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (118.4ms)
Rendered non_conformities/show_suppliers.html.erb within layouts/application (415.6ms)
Completed 200 OK in 553ms (Views: 425.0ms | ActiveRecord: 10.4ms)
Exiting
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/rack-1.2.3/lib/rack/handler/mongrel.rb:38:in `join'
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/rack-1.2.3/lib/rack/handler/mongrel.rb:38:in `run'
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/railties-3.0.3/lib/rails/commands/server.rb:65:in `start'
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/railties-3.0.3/lib/rails/commands.rb:30
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/railties-3.0.3/lib/rails/commands.rb:27:in `tap'
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/railties-3.0.3/lib/rails/commands.rb:27
	./script/rails:6:in `require'
	./script/rails:6
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/ruby-debug-ide-0.4.16/lib/ruby-debug-ide.rb:112:in `debug_load'
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/ruby-debug-ide-0.4.16/lib/ruby-debug-ide.rb:112:in `debug_program'
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/ruby-debug-ide-0.4.16/bin/rdebug-ide:87
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19:in `load'
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19
Uncaught exception: SIGHUP
