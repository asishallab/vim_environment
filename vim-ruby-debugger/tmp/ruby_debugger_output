Fast Debugger (ruby-debug-ide 0.4.16, ruby-debug-base 0.10.4) listens on 127.0.0.1:39767
=> Booting Mongrel
=> Rails 3.0.3 application starting in development on http://0.0.0.0:3000
=> Call with -d to detach
=> Ctrl-C to shutdown server
In order to start the rufus/scheduler for sending out message-digests un-comment code in /Users/ah/projects/gsmMonitoring/config/initializers/mailing_scheduler.rb
Otherwise add a cron-job calling the api: curl -d "apikey=6f896e70-4da5-012e-09a5-00264a1ce8b2" http://hostname/api/process_message_queue


Started GET "/monitorings?monitoring_filter[co]=" for 127.0.0.1 at Fri Nov 11 17:16:48 +0100 2011
  Processing by MonitoringsController#index as HTML
  Parameters: {"monitoring_filter"=>{"co"=>""}}
  [1m[36mSQL (3.1ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mSQL (0.7ms)[0m  SHOW TABLES
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.5ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mMonitoring Load (3.5ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) ORDER BY child_changed_at DESC, due_date, ref_no LIMIT 15 OFFSET 0[0m
  [1m[35mMonitoring Load (59.5ms)[0m  SELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) GROUP BY auditees.company_name ORDER BY child_changed_at DESC, due_date, ref_no
  [1m[36mAuditee Load (2.2ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1[0m
  [1m[35mAuditee Load (0.9ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mAuditee Load (0.2ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1[0m
  [1m[35mAuditee Load (0.2ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mAuditee Load (0.2ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 43) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.3ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 62) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (1.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.6ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 16 and c.created_at > '2011-11-06 16:24:36'
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:22)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:25)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
  [1m[36mResolutionProposal Count (0.6ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 16 and rp.updated_at > '2011-11-06 16:24:36'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 65) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 18 and c.created_at > '2011-11-06 16:24:36'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 18 and rp.updated_at > '2011-11-06 16:24:36'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 13 and c.created_at > '2011-11-06 16:24:36'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 13 and rp.updated_at > '2011-11-06 16:24:36'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 6 and c.created_at > '2011-11-06 16:24:36'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 6 and rp.updated_at > '2011-11-06 16:24:36'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 3 and c.created_at > '2011-11-06 16:24:36'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 3 and rp.updated_at > '2011-11-06 16:24:36'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 11 and c.created_at > '2011-11-06 16:24:36'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 11 and rp.updated_at > '2011-11-06 16:24:36'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 10 and c.created_at > '2011-11-06 16:24:36'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 10 and rp.updated_at > '2011-11-06 16:24:36'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 8 and c.created_at > '2011-11-06 16:24:36'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 8 and rp.updated_at > '2011-11-06 16:24:36'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 9 and c.created_at > '2011-11-06 16:24:36'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 9 and rp.updated_at > '2011-11-06 16:24:36'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 5 and c.created_at > '2011-11-06 16:24:36'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 5 and rp.updated_at > '2011-11-06 16:24:36'[0m
  [1m[35mAuditee Load (0.3ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 29) LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 45) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 14 and c.created_at > '2011-11-06 16:24:36'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 14 and rp.updated_at > '2011-11-06 16:24:36'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 43) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 59) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 15 and c.created_at > '2011-11-06 16:24:36'
  [1m[36mResolutionProposal Count (0.4ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 15 and rp.updated_at > '2011-11-06 16:24:36'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 62) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 22 and c.created_at > '2011-11-06 16:24:36'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 22 and rp.updated_at > '2011-11-06 16:24:36'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 20 and c.created_at > '2011-11-06 16:24:36'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 20 and rp.updated_at > '2011-11-06 16:24:36'[0m
Rendered monitorings/_search_form.html.erb (1.4ms)
Rendered monitorings/_index.html.erb (305.2ms)
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.3ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (18.9ms)
Rendered monitorings/index.html.erb within layouts/application (349.2ms)
Completed 200 OK in 468462ms (Views: 344.2ms | ActiveRecord: 88.9ms)


Started GET "/monitorings?monitoring_filter[co]=" for 127.0.0.1 at Fri Nov 11 17:24:36 +0100 2011
  Processing by MonitoringsController#index as HTML
  Parameters: {"monitoring_filter"=>{"co"=>""}}
  [1m[35mSQL (3.2ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.5ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mMonitoring Load (1.1ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) ORDER BY child_changed_at DESC, due_date, ref_no LIMIT 15 OFFSET 0[0m
  [1m[35mMonitoring Load (3.3ms)[0m  SELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) GROUP BY auditees.company_name ORDER BY child_changed_at DESC, due_date, ref_no
  [1m[36mAuditee Load (0.3ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1[0m
  [1m[35mAuditee Load (0.3ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1[0m
  [1m[35mAuditee Load (0.3ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mAuditee Load (0.6ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 43) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (1.5ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 62) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.6ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 16 and c.created_at > '2011-11-06 16:24:42'
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:22)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:25)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
  [1m[36mResolutionProposal Count (0.5ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 16 and rp.updated_at > '2011-11-06 16:24:43'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 65) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 18 and c.created_at > '2011-11-06 16:24:43'
  [1m[36mResolutionProposal Count (0.4ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 18 and rp.updated_at > '2011-11-06 16:24:43'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 13 and c.created_at > '2011-11-06 16:24:43'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 13 and rp.updated_at > '2011-11-06 16:24:43'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 6 and c.created_at > '2011-11-06 16:24:43'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 6 and rp.updated_at > '2011-11-06 16:24:43'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 3 and c.created_at > '2011-11-06 16:24:43'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 3 and rp.updated_at > '2011-11-06 16:24:43'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 11 and c.created_at > '2011-11-06 16:24:43'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 11 and rp.updated_at > '2011-11-06 16:24:43'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.6ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 10 and c.created_at > '2011-11-06 16:24:43'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 10 and rp.updated_at > '2011-11-06 16:24:43'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 8 and c.created_at > '2011-11-06 16:24:43'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 8 and rp.updated_at > '2011-11-06 16:24:43'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 9 and c.created_at > '2011-11-06 16:24:43'
  [1m[36mResolutionProposal Count (0.5ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 9 and rp.updated_at > '2011-11-06 16:24:43'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 5 and c.created_at > '2011-11-06 16:24:43'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 5 and rp.updated_at > '2011-11-06 16:24:43'[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 29) LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 45) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 14 and c.created_at > '2011-11-06 16:24:43'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 14 and rp.updated_at > '2011-11-06 16:24:43'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 43) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 59) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 15 and c.created_at > '2011-11-06 16:24:43'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 15 and rp.updated_at > '2011-11-06 16:24:43'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 62) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 22 and c.created_at > '2011-11-06 16:24:43'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 22 and rp.updated_at > '2011-11-06 16:24:43'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 20 and c.created_at > '2011-11-06 16:24:43'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 20 and rp.updated_at > '2011-11-06 16:24:43'[0m
Rendered monitorings/_search_form.html.erb (1.3ms)
Rendered monitorings/_index.html.erb (306.1ms)
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.5ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (18.3ms)
Rendered monitorings/index.html.erb within layouts/application (350.7ms)
Completed 200 OK in 6398ms (Views: 344.0ms | ActiveRecord: 29.1ms)


Started GET "/monitorings?monitoring_filter[co]=" for 127.0.0.1 at Fri Nov 11 17:34:59 +0100 2011
  Processing by MonitoringsController#index as HTML
  Parameters: {"monitoring_filter"=>{"co"=>""}}
  [1m[35mSQL (2.9ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mMonitoring Load (2.1ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) ORDER BY child_changed_at DESC, due_date, ref_no LIMIT 15 OFFSET 0[0m
  [1m[35mMonitoring Load (3.0ms)[0m  SELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) GROUP BY auditees.company_name ORDER BY child_changed_at DESC, due_date, ref_no
  [1m[36mAuditee Load (0.8ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1[0m
  [1m[35mAuditee Load (0.5ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mAuditee Load (0.2ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1[0m
  [1m[35mAuditee Load (0.2ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mAuditee Load (0.2ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 43) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.3ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 62) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.9ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 16 and c.created_at > '2011-11-06 16:35:00'
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:22)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:25)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
  [1m[36mResolutionProposal Count (0.6ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 16 and rp.updated_at > '2011-11-06 16:35:00'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 65) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 18 and c.created_at > '2011-11-06 16:35:00'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 18 and rp.updated_at > '2011-11-06 16:35:00'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 13 and c.created_at > '2011-11-06 16:35:00'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 13 and rp.updated_at > '2011-11-06 16:35:00'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 6 and c.created_at > '2011-11-06 16:35:00'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 6 and rp.updated_at > '2011-11-06 16:35:00'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 3 and c.created_at > '2011-11-06 16:35:00'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 3 and rp.updated_at > '2011-11-06 16:35:00'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 11 and c.created_at > '2011-11-06 16:35:00'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 11 and rp.updated_at > '2011-11-06 16:35:00'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.6ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 10 and c.created_at > '2011-11-06 16:35:00'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 10 and rp.updated_at > '2011-11-06 16:35:00'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 8 and c.created_at > '2011-11-06 16:35:00'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 8 and rp.updated_at > '2011-11-06 16:35:00'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 9 and c.created_at > '2011-11-06 16:35:00'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 9 and rp.updated_at > '2011-11-06 16:35:00'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 5 and c.created_at > '2011-11-06 16:35:00'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 5 and rp.updated_at > '2011-11-06 16:35:00'[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 29) LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 45) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 14 and c.created_at > '2011-11-06 16:35:00'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 14 and rp.updated_at > '2011-11-06 16:35:00'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 43) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 59) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 15 and c.created_at > '2011-11-06 16:35:00'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 15 and rp.updated_at > '2011-11-06 16:35:00'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 62) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 22 and c.created_at > '2011-11-06 16:35:00'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 22 and rp.updated_at > '2011-11-06 16:35:00'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 20 and c.created_at > '2011-11-06 16:35:00'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 20 and rp.updated_at > '2011-11-06 16:35:00'[0m
Rendered monitorings/_search_form.html.erb (2.0ms)
Rendered monitorings/_index.html.erb (313.9ms)
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.3ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (18.9ms)
Rendered monitorings/index.html.erb within layouts/application (355.0ms)
Completed 200 OK in 727ms (Views: 348.7ms | ActiveRecord: 27.6ms)


Started GET "/monitorings" for 127.0.0.1 at Fri Nov 11 17:35:36 +0100 2011
  Processing by MonitoringsController#index as HTML
  [1m[35mSQL (2.9ms)[0m  describe `roles_users`
  [1m[36mUser Load (2.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mMonitoring Load (0.8ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) ORDER BY child_changed_at DESC, due_date, ref_no LIMIT 15 OFFSET 0[0m
  [1m[35mMonitoring Load (3.2ms)[0m  SELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) GROUP BY auditees.company_name ORDER BY child_changed_at DESC, due_date, ref_no
  [1m[36mAuditee Load (0.9ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1[0m
  [1m[35mAuditee Load (0.3ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mAuditee Load (0.2ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1[0m
  [1m[35mAuditee Load (0.3ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mAuditee Load (0.2ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 43) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 62) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.9ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 16 and c.created_at > '2011-11-06 16:35:36'
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:22)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:25)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
  [1m[36mResolutionProposal Count (0.5ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 16 and rp.updated_at > '2011-11-06 16:35:36'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 65) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 18 and c.created_at > '2011-11-06 16:35:36'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 18 and rp.updated_at > '2011-11-06 16:35:36'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 13 and c.created_at > '2011-11-06 16:35:36'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 13 and rp.updated_at > '2011-11-06 16:35:36'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 6 and c.created_at > '2011-11-06 16:35:36'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 6 and rp.updated_at > '2011-11-06 16:35:36'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 3 and c.created_at > '2011-11-06 16:35:36'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 3 and rp.updated_at > '2011-11-06 16:35:36'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 11 and c.created_at > '2011-11-06 16:35:36'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 11 and rp.updated_at > '2011-11-06 16:35:36'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.6ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 10 and c.created_at > '2011-11-06 16:35:37'
  [1m[36mResolutionProposal Count (0.4ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 10 and rp.updated_at > '2011-11-06 16:35:37'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 8 and c.created_at > '2011-11-06 16:35:37'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 8 and rp.updated_at > '2011-11-06 16:35:37'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 9 and c.created_at > '2011-11-06 16:35:37'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 9 and rp.updated_at > '2011-11-06 16:35:37'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mComment Count (0.6ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 5 and c.created_at > '2011-11-06 16:35:37'
  [1m[36mResolutionProposal Count (0.4ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 5 and rp.updated_at > '2011-11-06 16:35:37'[0m
  [1m[35mAuditee Load (0.7ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 29) LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 45) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 14 and c.created_at > '2011-11-06 16:35:37'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 14 and rp.updated_at > '2011-11-06 16:35:37'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 43) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 59) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (1.2ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 15 and c.created_at > '2011-11-06 16:35:37'
  [1m[36mResolutionProposal Count (2.1ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 15 and rp.updated_at > '2011-11-06 16:35:37'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 62) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 22 and c.created_at > '2011-11-06 16:35:37'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 22 and rp.updated_at > '2011-11-06 16:35:37'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 20 and c.created_at > '2011-11-06 16:35:37'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 20 and rp.updated_at > '2011-11-06 16:35:37'[0m
Rendered monitorings/_search_form.html.erb (1.3ms)
Rendered monitorings/_index.html.erb (318.9ms)
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.3ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (22.6ms)
Rendered monitorings/index.html.erb within layouts/application (364.1ms)
Completed 200 OK in 724ms (Views: 354.7ms | ActiveRecord: 31.5ms)


Started GET "/monitorings?monitoring_filter[sort_by]=due_date%2C+child_changed_at+DESC%2C+ref_no" for 127.0.0.1 at Fri Nov 11 17:35:55 +0100 2011
  Processing by MonitoringsController#index as HTML
  Parameters: {"monitoring_filter"=>{"sort_by"=>"due_date, child_changed_at DESC, ref_no"}}
  [1m[35mSQL (1.4ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.5ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mMonitoring Load (0.6ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) ORDER BY due_date, child_changed_at DESC, ref_no LIMIT 15 OFFSET 0[0m
  [1m[35mMonitoring Load (3.0ms)[0m  SELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) GROUP BY auditees.company_name ORDER BY due_date, child_changed_at DESC, ref_no
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1[0m
  [1m[35mAuditee Load (0.3ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mAuditee Load (0.2ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 43) LIMIT 1[0m
  [1m[35mAuditee Load (0.2ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mAuditee Load (0.2ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.3ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.7ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.6ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 6 and c.created_at > '2011-11-06 16:35:55'
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:22)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:25)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
  [1m[36mResolutionProposal Count (0.5ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 6 and rp.updated_at > '2011-11-06 16:35:55'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 3 and c.created_at > '2011-11-06 16:35:55'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 3 and rp.updated_at > '2011-11-06 16:35:55'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 11 and c.created_at > '2011-11-06 16:35:55'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 11 and rp.updated_at > '2011-11-06 16:35:55'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 10 and c.created_at > '2011-11-06 16:35:55'
  [1m[36mResolutionProposal Count (0.5ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 10 and rp.updated_at > '2011-11-06 16:35:55'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 8 and c.created_at > '2011-11-06 16:35:55'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 8 and rp.updated_at > '2011-11-06 16:35:55'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 9 and c.created_at > '2011-11-06 16:35:55'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 9 and rp.updated_at > '2011-11-06 16:35:55'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 5 and c.created_at > '2011-11-06 16:35:55'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 5 and rp.updated_at > '2011-11-06 16:35:55'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 13 and c.created_at > '2011-11-06 16:35:55'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 13 and rp.updated_at > '2011-11-06 16:35:55'[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 29) LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 45) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 14 and c.created_at > '2011-11-06 16:35:55'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 14 and rp.updated_at > '2011-11-06 16:35:55'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 43) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 59) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 15 and c.created_at > '2011-11-06 16:35:55'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 15 and rp.updated_at > '2011-11-06 16:35:55'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 65) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 18 and c.created_at > '2011-11-06 16:35:56'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 18 and rp.updated_at > '2011-11-06 16:35:56'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 62) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 16 and c.created_at > '2011-11-06 16:35:56'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 16 and rp.updated_at > '2011-11-06 16:35:56'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 62) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 22 and c.created_at > '2011-11-06 16:35:56'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 22 and rp.updated_at > '2011-11-06 16:35:56'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 20 and c.created_at > '2011-11-06 16:35:56'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 20 and rp.updated_at > '2011-11-06 16:35:56'[0m
Rendered monitorings/_search_form.html.erb (1.4ms)
Rendered monitorings/_index.html.erb (349.3ms)
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.3ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (150.6ms)
Rendered monitorings/index.html.erb within layouts/application (522.8ms)
Completed 200 OK in 842ms (Views: 516.8ms | ActiveRecord: 23.7ms)


Started GET "/monitorings?monitoring_filter[status]=pending" for 127.0.0.1 at Fri Nov 11 17:36:01 +0100 2011
  Processing by MonitoringsController#index as HTML
  Parameters: {"monitoring_filter"=>{"status"=>"pending"}}
  [1m[35mSQL (2.7ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mMonitoring Load (0.5ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (`monitorings`.`aasm_state` = 'pending') AND ((1=1)) ORDER BY due_date, child_changed_at DESC, ref_no LIMIT 15 OFFSET 0[0m
  [1m[35mMonitoring Load (2.7ms)[0m  SELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (`monitorings`.`aasm_state` = 'pending') AND ((1=1)) GROUP BY auditees.company_name ORDER BY due_date, child_changed_at DESC, ref_no
  [1m[36mAuditee Load (2.0ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mAuditee Load (0.2ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 43) LIMIT 1[0m
  [1m[35mAuditee Load (0.2ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mAuditee Load (0.3ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.3ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.7ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.6ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 6 and c.created_at > '2011-11-06 16:36:02'
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:22)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:25)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
  [1m[36mResolutionProposal Count (0.6ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 6 and rp.updated_at > '2011-11-06 16:36:02'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mComment Count (0.3ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 3 and c.created_at > '2011-11-06 16:36:02'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 3 and rp.updated_at > '2011-11-06 16:36:02'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 11 and c.created_at > '2011-11-06 16:36:02'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 11 and rp.updated_at > '2011-11-06 16:36:02'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 10 and c.created_at > '2011-11-06 16:36:02'
  [1m[36mResolutionProposal Count (0.6ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 10 and rp.updated_at > '2011-11-06 16:36:02'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 8 and c.created_at > '2011-11-06 16:36:02'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 8 and rp.updated_at > '2011-11-06 16:36:02'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 9 and c.created_at > '2011-11-06 16:36:02'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 9 and rp.updated_at > '2011-11-06 16:36:02'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 5 and c.created_at > '2011-11-06 16:36:02'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 5 and rp.updated_at > '2011-11-06 16:36:02'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 13 and c.created_at > '2011-11-06 16:36:02'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 13 and rp.updated_at > '2011-11-06 16:36:02'[0m
  [1m[35mAuditee Load (0.3ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 29) LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 45) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 14 and c.created_at > '2011-11-06 16:36:02'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 14 and rp.updated_at > '2011-11-06 16:36:02'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 43) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 59) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 15 and c.created_at > '2011-11-06 16:36:02'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 15 and rp.updated_at > '2011-11-06 16:36:02'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 65) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 18 and c.created_at > '2011-11-06 16:36:02'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 18 and rp.updated_at > '2011-11-06 16:36:02'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 62) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 16 and c.created_at > '2011-11-06 16:36:02'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 16 and rp.updated_at > '2011-11-06 16:36:02'[0m
Rendered monitorings/_search_form.html.erb (1.3ms)
Rendered monitorings/_index.html.erb (311.2ms)
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.3ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (18.7ms)
Rendered monitorings/index.html.erb within layouts/application (352.3ms)
Completed 200 OK in 744ms (Views: 347.9ms | ActiveRecord: 25.2ms)


Started GET "/monitorings?monitoring_filter[search_term]=Fischer+TestCo9+XX" for 127.0.0.1 at Fri Nov 11 17:36:11 +0100 2011
  Processing by MonitoringsController#index as HTML
  Parameters: {"monitoring_filter"=>{"search_term"=>"Fischer TestCo9 XX"}}
  [1m[35mSQL (2.7ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (1.9ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
  [1m[36mSQL (1.9ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (1.6ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mMonitoring Load (0.5ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (auditees.company_name like 'Fischer TestCo9 XX' or audit_ref like 'Fischer TestCo9 XX' or ref_no like 'Fischer TestCo9 XX') AND (`monitorings`.`aasm_state` = 'pending') AND ((1=1)) ORDER BY due_date, child_changed_at DESC, ref_no LIMIT 15 OFFSET 0[0m
  [1m[35mMonitoring Load (2.4ms)[0m  SELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (auditees.company_name like 'Fischer TestCo9 XX' or audit_ref like 'Fischer TestCo9 XX' or ref_no like 'Fischer TestCo9 XX') AND (`monitorings`.`aasm_state` = 'pending') AND ((1=1)) GROUP BY auditees.company_name ORDER BY due_date, child_changed_at DESC, ref_no
  [1m[36mAuditee Load (0.3ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.3ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 62) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.7ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.6ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 16 and c.created_at > '2011-11-06 16:36:12'
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:22)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:25)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
  [1m[36mResolutionProposal Count (0.6ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 16 and rp.updated_at > '2011-11-06 16:36:12'[0m
Rendered monitorings/_search_form.html.erb (1.8ms)
Rendered monitorings/_index.html.erb (87.1ms)
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (21.0ms)
Rendered monitorings/index.html.erb within layouts/application (281.3ms)
Completed 200 OK in 624ms (Views: 289.1ms | ActiveRecord: 15.1ms)


Started GET "/monitorings?monitoring_filter[search_term]=Fischer+TestCo9+XX" for 127.0.0.1 at Fri Nov 11 17:36:59 +0100 2011
  Processing by MonitoringsController#index as HTML
  Parameters: {"monitoring_filter"=>{"search_term"=>"Fischer TestCo9 XX"}}
  [1m[35mSQL (3.3ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mMonitoring Load (0.6ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (auditees.company_name like 'Fischer TestCo9 XX' or audit_ref like 'Fischer TestCo9 XX' or ref_no like 'Fischer TestCo9 XX') AND (`monitorings`.`aasm_state` = 'pending') AND ((1=1)) ORDER BY due_date, child_changed_at DESC, ref_no LIMIT 15 OFFSET 0[0m
  [1m[35mMonitoring Load (3.6ms)[0m  SELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (auditees.company_name like 'Fischer TestCo9 XX' or audit_ref like 'Fischer TestCo9 XX' or ref_no like 'Fischer TestCo9 XX') AND (`monitorings`.`aasm_state` = 'pending') AND ((1=1)) GROUP BY auditees.company_name ORDER BY due_date, child_changed_at DESC, ref_no
  [1m[36mAuditee Load (1.6ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 62) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.6ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 16 and c.created_at > '2011-11-06 16:50:16'
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:22)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:25)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
  [1m[36mResolutionProposal Count (0.5ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 16 and rp.updated_at > '2011-11-06 16:50:16'[0m
Rendered monitorings/_search_form.html.erb (1.4ms)
Rendered monitorings/_index.html.erb (285.9ms)
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.5ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (19.6ms)
Rendered monitorings/index.html.erb within layouts/application (332.7ms)
Completed 200 OK in 797092ms (Views: 340.5ms | ActiveRecord: 14.9ms)


Started GET "/monitorings?monitoring_filter[search_term]=Fischer+TestCo9+XX" for 127.0.0.1 at Fri Nov 11 17:50:16 +0100 2011
  Processing by MonitoringsController#index as HTML
  Parameters: {"monitoring_filter"=>{"search_term"=>"Fischer TestCo9 XX"}}
  [1m[35mSQL (1.5ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
  [1m[36mSQL (2.3ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mMonitoring Load (0.6ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (auditees.company_name like 'Fischer TestCo9 XX' or audit_ref like 'Fischer TestCo9 XX' or ref_no like 'Fischer TestCo9 XX') AND (`monitorings`.`aasm_state` = 'pending') AND ((1=1)) ORDER BY due_date, child_changed_at DESC, ref_no LIMIT 15 OFFSET 0[0m
  [1m[35mMonitoring Load (37.2ms)[0m  SELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (auditees.company_name like 'Fischer TestCo9 XX' or audit_ref like 'Fischer TestCo9 XX' or ref_no like 'Fischer TestCo9 XX') AND (`monitorings`.`aasm_state` = 'pending') AND ((1=1)) GROUP BY auditees.company_name ORDER BY due_date, child_changed_at DESC, ref_no
  [1m[36mAuditee Load (28.6ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.3ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 62) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.9ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 16 and c.created_at > '2011-11-06 16:50:24'
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:22)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:25)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
  [1m[36mResolutionProposal Count (0.5ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 16 and rp.updated_at > '2011-11-06 16:50:24'[0m
Rendered monitorings/_search_form.html.erb (1.4ms)
Rendered monitorings/_index.html.erb (222.4ms)
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.3ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (18.6ms)
Rendered monitorings/index.html.erb within layouts/application (263.8ms)
Completed 200 OK in 7998ms (Views: 270.3ms | ActiveRecord: 74.9ms)


Started GET "/monitorings?reset_filter=true" for 127.0.0.1 at Fri Nov 11 17:50:33 +0100 2011
  Processing by MonitoringsController#index as HTML
  Parameters: {"reset_filter"=>"true"}
  [1m[35mSQL (2.9ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mMonitoring Load (0.5ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (compliance_officer_id = 26) AND (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) ORDER BY child_changed_at DESC, due_date, ref_no LIMIT 15 OFFSET 0[0m
  [1m[35mMonitoring Load (49.9ms)[0m  SELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (compliance_officer_id = 26) AND (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) GROUP BY auditees.company_name ORDER BY child_changed_at DESC, due_date, ref_no
  [1m[36mAuditee Load (1.5ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1[0m
  [1m[35mAuditee Load (0.9ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mAuditee Load (0.2ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1[0m
  [1m[35mAuditee Load (0.2ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mAuditee Load (0.2ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 43) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.6ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 62) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 16 and c.created_at > '2011-11-06 16:50:46'
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:22)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:25)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
  [1m[36mResolutionProposal Count (0.6ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 16 and rp.updated_at > '2011-11-06 16:50:47'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 65) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 18 and c.created_at > '2011-11-06 16:50:47'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 18 and rp.updated_at > '2011-11-06 16:50:47'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 13 and c.created_at > '2011-11-06 16:50:47'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 13 and rp.updated_at > '2011-11-06 16:50:47'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 6 and c.created_at > '2011-11-06 16:50:47'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 6 and rp.updated_at > '2011-11-06 16:50:47'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 11 and c.created_at > '2011-11-06 16:50:47'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 11 and rp.updated_at > '2011-11-06 16:50:47'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 10 and c.created_at > '2011-11-06 16:50:47'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 10 and rp.updated_at > '2011-11-06 16:50:47'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 8 and c.created_at > '2011-11-06 16:50:47'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 8 and rp.updated_at > '2011-11-06 16:50:47'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 9 and c.created_at > '2011-11-06 16:50:47'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 9 and rp.updated_at > '2011-11-06 16:50:47'[0m
  [1m[35mAuditee Load (0.3ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 29) LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 45) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 14 and c.created_at > '2011-11-06 16:50:47'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 14 and rp.updated_at > '2011-11-06 16:50:47'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 43) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 59) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 15 and c.created_at > '2011-11-06 16:50:47'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 15 and rp.updated_at > '2011-11-06 16:50:47'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 62) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 22 and c.created_at > '2011-11-06 16:50:47'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 22 and rp.updated_at > '2011-11-06 16:50:47'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 20 and c.created_at > '2011-11-06 16:50:47'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 20 and rp.updated_at > '2011-11-06 16:50:47'[0m
Rendered monitorings/_search_form.html.erb (1.5ms)
Rendered monitorings/_index.html.erb (182.3ms)
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.3ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (161.8ms)
Rendered monitorings/index.html.erb within layouts/application (518.3ms)
Completed 200 OK in 13509ms (Views: 515.7ms | ActiveRecord: 71.7ms)


Started GET "/monitorings?reset_filter=true" for 127.0.0.1 at Fri Nov 11 17:51:41 +0100 2011
  Processing by MonitoringsController#index as HTML
  Parameters: {"reset_filter"=>"true"}
  [1m[35mSQL (2.9ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mMonitoring Load (0.6ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (compliance_officer_id = 26) AND (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) ORDER BY child_changed_at DESC, due_date, ref_no LIMIT 15 OFFSET 0[0m
  [1m[35mMonitoring Load (58.6ms)[0m  SELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (compliance_officer_id = 26) AND (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) GROUP BY auditees.company_name ORDER BY child_changed_at DESC, due_date, ref_no
  [1m[36mAuditee Load (1.5ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mAuditee Load (0.3ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1[0m
  [1m[35mAuditee Load (0.2ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mAuditee Load (0.5ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 43) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.3ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (1.7ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 62) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 16 and c.created_at > '2011-11-06 16:51:48'
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:22)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:25)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
  [1m[36mResolutionProposal Count (0.5ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 16 and rp.updated_at > '2011-11-06 16:51:48'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 65) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 18 and c.created_at > '2011-11-06 16:51:48'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 18 and rp.updated_at > '2011-11-06 16:51:48'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 13 and c.created_at > '2011-11-06 16:51:48'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 13 and rp.updated_at > '2011-11-06 16:51:48'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 6 and c.created_at > '2011-11-06 16:51:48'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 6 and rp.updated_at > '2011-11-06 16:51:48'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 11 and c.created_at > '2011-11-06 16:51:48'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 11 and rp.updated_at > '2011-11-06 16:51:48'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 10 and c.created_at > '2011-11-06 16:51:48'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 10 and rp.updated_at > '2011-11-06 16:51:48'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 21) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 36) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 8 and c.created_at > '2011-11-06 16:51:48'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 8 and rp.updated_at > '2011-11-06 16:51:48'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 9 and c.created_at > '2011-11-06 16:51:48'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 9 and rp.updated_at > '2011-11-06 16:51:48'[0m
  [1m[35mAuditee Load (0.3ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 29) LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 45) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 14 and c.created_at > '2011-11-06 16:51:48'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 14 and rp.updated_at > '2011-11-06 16:51:48'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 43) LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 59) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 15 and c.created_at > '2011-11-06 16:51:48'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 15 and rp.updated_at > '2011-11-06 16:51:48'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 45) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 62) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 22 and c.created_at > '2011-11-06 16:51:48'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 22 and rp.updated_at > '2011-11-06 16:51:48'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 20) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 35) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 20 and c.created_at > '2011-11-06 16:51:48'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 20 and rp.updated_at > '2011-11-06 16:51:48'[0m
Rendered monitorings/_search_form.html.erb (1.5ms)
Rendered monitorings/_index.html.erb (327.8ms)
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (21.5ms)
Rendered monitorings/index.html.erb within layouts/application (379.0ms)
Completed 200 OK in 6985ms (Views: 374.7ms | ActiveRecord: 82.2ms)


Started GET "/monitorings?monitoring_filter[auditee]=47" for 127.0.0.1 at Fri Nov 11 17:51:59 +0100 2011
  Processing by MonitoringsController#index as HTML
  Parameters: {"monitoring_filter"=>{"auditee"=>"47"}}
  [1m[35mSQL (2.5ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mMonitoring Load (0.5ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (auditees.id = '47') AND (compliance_officer_id = 26) AND (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) ORDER BY child_changed_at DESC, due_date, ref_no LIMIT 15 OFFSET 0[0m
  [1m[35mMonitoring Load (1.0ms)[0m  SELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (auditees.id = '47') AND (compliance_officer_id = 26) AND (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) GROUP BY auditees.company_name ORDER BY child_changed_at DESC, due_date, ref_no
  [1m[36mAuditee Load (44.8ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 65) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.9ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 65) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 18 and c.created_at > '2011-11-06 16:52:11'
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:22)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:25)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
  [1m[36mResolutionProposal Count (0.5ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 18 and rp.updated_at > '2011-11-06 16:52:11'[0m
Rendered monitorings/_search_form.html.erb (1.5ms)
Rendered monitorings/_index.html.erb (79.1ms)
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (166.5ms)
Rendered monitorings/index.html.erb within layouts/application (279.7ms)
Completed 200 OK in 12784ms (Views: 286.7ms | ActiveRecord: 55.1ms)


Started GET "/monitorings?monitoring_filter[auditee]=47" for 127.0.0.1 at Fri Nov 11 17:52:43 +0100 2011
  Processing by MonitoringsController#index as HTML
  Parameters: {"monitoring_filter"=>{"auditee"=>"47"}}
  [1m[35mSQL (2.8ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.5ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mMonitoring Load (0.5ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (auditees.id = '47') AND (compliance_officer_id = 26) AND (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) ORDER BY child_changed_at DESC, due_date, ref_no LIMIT 15 OFFSET 0[0m
  [1m[35mMonitoring Load (0.7ms)[0m  SELECT `monitorings`.* FROM `monitorings` INNER JOIN `auditees` ON `auditees`.`id` = `monitorings`.`auditee_id` WHERE (auditees.id = '47') AND (compliance_officer_id = 26) AND (aasm_state = 'draft' OR aasm_state = 'pending') AND ((1=1)) GROUP BY auditees.company_name ORDER BY child_changed_at DESC, due_date, ref_no
  [1m[36mAuditee Load (1.5ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.6ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers`
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 65) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.6ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 65) LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.`id` = 26) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mComment Count (0.6ms)[0m  select count(c.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where m.id = 18 and c.created_at > '2011-11-06 16:52:50'
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:22)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:25)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
  [1m[36mResolutionProposal Count (0.5ms)[0m  [1mselect count(rp.id) from monitorings m left join non_conformities nc on m.id = nc.monitoring_id left join resolution_proposals rp on nc.id = rp.non_conformity_id where m.id = 18 and rp.updated_at > '2011-11-06 16:52:50'[0m
Rendered monitorings/_search_form.html.erb (1.5ms)
Rendered monitorings/_index.html.erb (233.5ms)
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (20.4ms)
Rendered monitorings/index.html.erb within layouts/application (286.9ms)
Completed 200 OK in 7470ms (Views: 304.8ms | ActiveRecord: 11.8ms)


Started GET "/monitorings/18" for 127.0.0.1 at Fri Nov 11 17:59:28 +0100 2011
  Processing by MonitoringsController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[35mSQL (1.2ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[35mMonitoring Load (0.3ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1
  [1m[36mAuditee Load (0.6ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 65) LIMIT 1
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:3)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:4)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:6)
  [1m[36mNonConformity Load (0.5ms)[0m  [1mSELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.monitoring_id = 18)[0m
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:22)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:25)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
  [1m[35mResolutionProposal Load (0.6ms)[0m  SELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 17) LIMIT 1
  [1m[36mComment Count (0.5ms)[0m  [1mselect count(nc.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where nc.id = 16 and c.created_at > '2011-11-06 16:59:29'[0m
  [1m[35mResolutionProposal Count (0.2ms)[0m  select count(rp.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id where nc.id = 16 and rp.updated_at > '2011-11-06 16:59:29'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1[0m
  [1m[35mResolutionProposal Load (0.4ms)[0m  SELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 16) LIMIT 1
  [1m[36mComment Count (0.4ms)[0m  [1mselect count(nc.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where nc.id = 17 and c.created_at > '2011-11-06 16:59:29'[0m
  [1m[35mResolutionProposal Count (0.2ms)[0m  select count(rp.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id where nc.id = 17 and rp.updated_at > '2011-11-06 16:59:29'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1[0m
Rendered non_conformities/_index_table.html.erb (367.9ms)
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.3ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (41.4ms)
Rendered monitorings/show.html.erb within layouts/application (500.8ms)
Completed 200 OK in 829ms (Views: 505.1ms | ActiveRecord: 8.5ms)


Started GET "/monitorings/18/non_conformities/17" for 127.0.0.1 at Fri Nov 11 17:59:41 +0100 2011
  Processing by NonConformitiesController#show as HTML
  Parameters: {"monitoring_id"=>"18", "id"=>"17"}
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (1.2ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mMonitoring Load (0.3ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1[0m
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:3)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:4)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:6)
  [1m[35mNonConformity Load (0.3ms)[0m  SELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.monitoring_id = 18) AND (`non_conformities`.`id` = 17) LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM `non_conformity_attachments` WHERE (`non_conformity_attachments`.non_conformity_id = 17)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:22)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:25)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
  [1m[36mResolutionProposal Load (0.5ms)[0m  [1mSELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 17) LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_resolution_proposals__decline_form_html_erb___264454216_2196582060_3511070 at /Users/ah/projects/gsmMonitoring/app/views/resolution_proposals/_decline_form.html.erb:1)
Rendered resolution_proposals/_decline_form.html.erb (2.2ms)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_attachment.rb:10)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_attachment.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_attachment.rb:13)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_attachment.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_attachment.rb:15)
  [1m[35mResolutionAttachment Load (0.6ms)[0m  SELECT `resolution_attachments`.* FROM `resolution_attachments` WHERE (`resolution_attachments`.resolution_proposal_id = 22)
  [1m[36mComment Load (0.4ms)[0m  [1mSELECT `comments`.* FROM `comments` WHERE (`comments`.resolution_proposal_id = 22) ORDER BY created_at[0m
Rendered comments/_index.html.erb (2.2ms)
DEPRECATION WARNING: Using form_for(:name, @resource) is deprecated. Please use form_for(@resource, :as => :name) instead. (called from _app_views_comments__new_html_erb___2098198910_2195604500_67230 at /Users/ah/projects/gsmMonitoring/app/views/comments/_new.html.erb:4)
Rendered comment_attachments/_form.html.erb (1.2ms)
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_comments__new_html_erb___2098198910_2195604500_67230 at /Users/ah/projects/gsmMonitoring/app/views/comments/_new.html.erb:4)
Rendered comments/_new.html.erb (7.6ms)
Rendered resolution_proposals/_show.html.erb (66.5ms)
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1
  [1m[36mAuditee Load (0.4ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1[0m
  [1m[35mComplianceOfficer Load (0.4ms)[0m  SELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1
Rendered users/_user_bar.html.erb (228.8ms)
Rendered non_conformities/show.html.erb within layouts/application (382.5ms)
Completed 200 OK in 712ms (Views: 389.1ms | ActiveRecord: 8.3ms)


Started GET "/monitorings/18" for 127.0.0.1 at Fri Nov 11 17:59:48 +0100 2011
  Processing by MonitoringsController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mSQL (2.6ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.8ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mMonitoring Load (0.3ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1[0m
  [1m[35mAuditee Load (0.6ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 65) LIMIT 1[0m
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:3)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:4)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:6)
  [1m[35mNonConformity Load (0.5ms)[0m  SELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.monitoring_id = 18)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:22)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:25)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
  [1m[36mResolutionProposal Load (0.4ms)[0m  [1mSELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 17) LIMIT 1[0m
  [1m[35mComment Count (0.5ms)[0m  select count(nc.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where nc.id = 16 and c.created_at > '2011-11-06 16:59:48'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id where nc.id = 16 and rp.updated_at > '2011-11-06 16:59:48'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1
  [1m[36mResolutionProposal Load (0.4ms)[0m  [1mSELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 16) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(nc.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where nc.id = 17 and c.created_at > '2011-11-06 16:59:48'
  [1m[36mResolutionProposal Count (0.2ms)[0m  [1mselect count(rp.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id where nc.id = 17 and rp.updated_at > '2011-11-06 16:59:48'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1
Rendered non_conformities/_index_table.html.erb (251.4ms)
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.3ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.5ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (41.3ms)
Rendered monitorings/show.html.erb within layouts/application (383.7ms)
Completed 200 OK in 721ms (Views: 388.3ms | ActiveRecord: 10.5ms)


Started GET "/monitorings/18/non_conformities/new" for 127.0.0.1 at Fri Nov 11 17:59:50 +0100 2011
  Processing by NonConformitiesController#new as HTML
  Parameters: {"monitoring_id"=>"18"}
  [1m[35mSQL (3.1ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[35mMonitoring Load (0.4ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:3)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:4)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:6)
  [1m[36mSQL (0.9ms)[0m  [1mSHOW TABLES[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM `tags` JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM `taggings` INNER JOIN nc_templates ON nc_templates.id = taggings.taggable_id WHERE (taggings.taggable_type = 'NcTemplate' AND taggings.context = 'category') AND (taggings.taggable_id IN(SELECT nc_templates.id FROM `nc_templates`)) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
Rendered non_conformities/_nc_template_select.html.erb (0.9ms)
Rendered non_conformity_attachments/_form.html.erb (16.4ms)
Rendered non_conformities/_form.html.erb (228.4ms)
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_non_conformities_new_html_erb__2059334077_2194310980_0 at /Users/ah/projects/gsmMonitoring/app/views/non_conformities/new.html.erb:3)
  [1m[36mClient Load (0.3ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.4ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (64.7ms)
Rendered non_conformities/new.html.erb within layouts/application (314.5ms)
Completed 200 OK in 668ms (Views: 321.2ms | ActiveRecord: 8.7ms)


Started GET "/nc_templates/non_conformity_template_selector?nc_template_category=maus" for 127.0.0.1 at Fri Nov 11 17:59:54 +0100 2011
  Processing by NcTemplatesController#non_conformity_template_selector as JS
  Parameters: {"nc_template_category"=>"maus"}
  [1m[35mSQL (1.4ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
***************
{"action"=>"non_conformity_template_selector", "nc_template_category"=>"maus", "controller"=>"nc_templates"}
  [1m[35mSQL (0.8ms)[0m  SHOW TABLES
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT `tags`.* FROM `tags` WHERE (name LIKE 'maus')[0m
  [1m[35mNcTemplate Load (3.4ms)[0m  SELECT `nc_templates`.* FROM `nc_templates` JOIN taggings nc_templates_taggings_maus_19 ON nc_templates_taggings_maus_19.taggable_id = nc_templates.id AND nc_templates_taggings_maus_19.taggable_type = 'NcTemplate' AND nc_templates_taggings_maus_19.tag_id = 3 ORDER BY identifier ASC
Rendered non_conformities/_nc_template_select.html.erb (32.5ms)
Completed 200 OK in 76ms (Views: 30.5ms | ActiveRecord: 6.3ms)


Started GET "/nc_templates/5.json" for 127.0.0.1 at Fri Nov 11 17:59:55 +0100 2011
  Processing by NcTemplatesController#show as JSON
  Parameters: {"id"=>"5"}
  [1m[36mSQL (2.9ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mSHOW TABLES[0m
  [1m[35mNcTemplate Load (0.3ms)[0m  SELECT `nc_templates`.* FROM `nc_templates` WHERE (`nc_templates`.`id` = 5) LIMIT 1
Completed 200 OK in 267ms (Views: 11.3ms | ActiveRecord: 4.5ms)


Started POST "/monitorings/18/non_conformities" for 127.0.0.1 at Fri Nov 11 18:00:25 +0100 2011
  Processing by NonConformitiesController#create as HTML
  Parameters: {"commit"=>"Create", "monitoring_id"=>"18", "nc_template_id"=>"5", "authenticity_token"=>"4OX/vjvmASfwnNkB6ivgEOf2TDZgy70Yec0EHwe9AcQ=", "utf8"=>"\342\234\223", "non_conformity"=>{"supplier"=>"thatheth", "corrective_actions_plan"=>"aadssdfasdfasdfsafasfdlkjhlaksjdhfakljsfdhalkjsdfhkaljsfhasdlkjfhasljfhdaljsfdhalksjfhalksjhfaklsjhdfklsjahfjshdfdjhfaljshdskjfdhlkajsdhfksajhfkljhfakjh", "description"=>"thethuthethathethtuehteutheuth", "identifier"=>"tuuuuuuuuth"}, "nc_templates_category_sel"=>"maus"}
  [1m[36mSQL (1.6ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mMonitoring Load (0.4ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1[0m
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:3)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:4)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:6)
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (2.5ms)[0m  [1mdescribe `non_conformities`[0m
  [1m[35mAREL (0.8ms)[0m  INSERT INTO `non_conformities` (`corrective_actions_plan`, `updated_at`, `created_at`, `supplier`, `aasm_state`, `identifier`, `due_date`, `remediation_failure`, `remediation_failure_date`, `description`, `monitoring_id`) VALUES ('aadssdfasdfasdfsafasfdlkjhlaksjdhfakljsfdhalkjsdfhkaljsfhasdlkjfhasljfhdaljsfdhalksjfhalksjhfaklsjhdfklsjahfjshdfdjhfaljshdskjfdhlkajsdhfksajhfkljhfakjh', '2011-11-11 17:00:25', '2011-11-11 17:00:25', 'thatheth', 'pending', 'tuuuuuuuuth', NULL, NULL, NULL, 'thethuthethathethtuehteutheuth', 18)
  [1m[36mActionLog Load (0.4ms)[0m  [1mSELECT `action_logs`.* FROM `action_logs` WHERE (`action_logs`.logged_id = NULL AND `action_logs`.logged_type = 'NonConformity')[0m
  [1m[35mSQL (1.9ms)[0m  describe `action_logs`
  [1m[36mAREL (1.7ms)[0m  [1mINSERT INTO `action_logs` (`logged_type`, `logged_id`, `log_entry`, `updated_at`, `user_id`, `created_at`) VALUES ('NonConformity', 27, 'Created new NonConformity.', '2011-11-11 17:00:25', 41, '2011-11-11 17:00:25')[0m
  [1m[35mMonitoring Load (0.4ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `mon_child_act_logs`[0m
  [1m[35mAREL (0.9ms)[0m  INSERT INTO `mon_child_act_logs` (`monitoring_id`, `action_log_id`, `created_at`, `updated_at`) VALUES (18, 47, '2011-11-11 17:00:25', '2011-11-11 17:00:25')
  [1m[36mAuditee Load (1.0ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 65) LIMIT 1
  [1m[36mMessageQueue Load (0.6ms)[0m  [1mSELECT `message_queues`.* FROM `message_queues` WHERE (`message_queues`.`user_id` = 65) LIMIT 1[0m
  [1m[35mMessageQueue Load (0.3ms)[0m  SELECT `message_queues`.`id` FROM `message_queues` WHERE (`message_queues`.`user_id` = 65) LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mdescribe `message_queues`[0m
  [1m[35mAREL (0.8ms)[0m  INSERT INTO `message_queues` (`user_id`, `updated_at`, `created_at`) VALUES (65, '2011-11-11 17:00:26', '2011-11-11 17:00:26')
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `messages`[0m
  [1m[35mAREL (2.1ms)[0m  INSERT INTO `messages` (`message_queue_id`, `updated_at`, `instance_id`, `klass`, `created_at`) VALUES (3, '2011-11-11 17:00:26', 18, 'Monitoring', '2011-11-11 17:00:26')
  [1m[36mMessageQueue Load (0.5ms)[0m  [1mSELECT `message_queues`.`id` FROM `message_queues` WHERE (`message_queues`.`user_id` = 65) AND (`message_queues`.id <> 3) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  COMMIT
Redirected to http://localhost:3000/monitorings/18
Completed 302 Found in 497ms


Started GET "/monitorings/18" for 127.0.0.1 at Fri Nov 11 18:00:26 +0100 2011
  Processing by MonitoringsController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mSQL (165.6ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (1.1ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mMonitoring Load (0.4ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1[0m
  [1m[35mAuditee Load (1.0ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 65) LIMIT 1[0m
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:3)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:4)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:6)
  [1m[35mNonConformity Load (0.4ms)[0m  SELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.monitoring_id = 18)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:22)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:25)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
  [1m[36mResolutionProposal Load (0.5ms)[0m  [1mSELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 17) LIMIT 1[0m
  [1m[35mResolutionProposal Load (0.3ms)[0m  SELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 27) LIMIT 1
  [1m[36mComment Count (0.6ms)[0m  [1mselect count(nc.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where nc.id = 27 and c.created_at > '2011-11-06 17:00:26'[0m
  [1m[35mResolutionProposal Count (0.3ms)[0m  select count(rp.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id where nc.id = 27 and rp.updated_at > '2011-11-06 17:00:26'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1[0m
  [1m[35mComment Count (0.6ms)[0m  select count(nc.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where nc.id = 17 and c.created_at > '2011-11-06 17:00:26'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id where nc.id = 17 and rp.updated_at > '2011-11-06 17:00:26'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1
  [1m[36mComment Count (0.5ms)[0m  [1mselect count(nc.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where nc.id = 16 and c.created_at > '2011-11-06 17:00:26'[0m
  [1m[35mResolutionProposal Count (0.3ms)[0m  select count(rp.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id where nc.id = 16 and rp.updated_at > '2011-11-06 17:00:26'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1[0m
  [1m[35mResolutionProposal Load (0.4ms)[0m  SELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 16) LIMIT 1
Rendered non_conformities/_index_table.html.erb (101.4ms)
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.4ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.4ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (371.3ms)
Rendered monitorings/show.html.erb within layouts/application (742.5ms)
Completed 200 OK in 1037ms (Views: 745.7ms | ActiveRecord: 175.7ms)


Started POST "/monitorings/18/non_conformities/27/flunk_remediation" for 127.0.0.1 at Fri Nov 11 18:00:36 +0100 2011
  Processing by NonConformitiesController#flunk_remediation as HTML
  Parameters: {"monitoring_id"=>"18", "authenticity_token"=>"4OX/vjvmASfwnNkB6ivgEOf2TDZgy70Yec0EHwe9AcQ=", "utf8"=>"\342\234\223", "remediation_failure"=>"Auditee did not provide a Resolution-Proposal!", "id"=>"27"}
  [1m[35mSQL (2.6ms)[0m  describe `roles_users`
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1[0m
  [1m[35mSQL (1.3ms)[0m  describe `roles_users`
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )[0m
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[35mMonitoring Load (0.4ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:3)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:4)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:6)
  [1m[36mNonConformity Load (0.9ms)[0m  [1mSELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.monitoring_id = 18) AND (`non_conformities`.`id` = 27) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE `non_conformities` SET `updated_at` = '2011-11-11 17:00:37', `remediation_failure` = 'Auditee did not provide a Resolution-Proposal!', `aasm_state` = 'remediation_failed', `remediation_failure_date` = '2011-11-11 17:00:37' WHERE (`non_conformities`.`id` = 27)[0m
  [1m[35mSQL (1.4ms)[0m  describe `action_logs`
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO `action_logs` (`user_id`, `logged_type`, `logged_id`, `updated_at`, `log_entry`, `created_at`) VALUES (41, 'NonConformity', 27, '2011-11-11 17:00:37', '{\"remediation_failure_date\":[null,\"2011-11-11T17:00:37Z\"],\"aasm_state\":[\"pending\",\"remediation_failed\"],\"remediation_failure\":[null,\"Auditee did not provide a Resolution-Proposal!\"]}', '2011-11-11 17:00:37')[0m
  [1m[35mMonitoring Load (0.4ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `mon_child_act_logs`[0m
  [1m[35mAREL (0.7ms)[0m  INSERT INTO `mon_child_act_logs` (`updated_at`, `created_at`, `action_log_id`, `monitoring_id`) VALUES ('2011-11-11 17:00:37', '2011-11-11 17:00:37', 48, 18)
  [1m[36mSQL (1.4ms)[0m  [1mCOMMIT[0m
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:22)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:25)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
  [1m[35mResolutionProposal Load (0.5ms)[0m  SELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 27) LIMIT 1
  [1m[36mAuditee Load (0.6ms)[0m  [1mSELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 65) LIMIT 1
  [1m[36mMessageQueue Load (0.6ms)[0m  [1mSELECT `message_queues`.* FROM `message_queues` WHERE (`message_queues`.`user_id` = 65) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  BEGIN
  [1m[36mSQL (2.9ms)[0m  [1mdescribe `messages`[0m
  [1m[35mAREL (0.6ms)[0m  INSERT INTO `messages` (`message_queue_id`, `created_at`, `updated_at`, `instance_id`, `klass`) VALUES (3, '2011-11-11 17:00:37', '2011-11-11 17:00:37', 18, 'Monitoring')
  [1m[36mSQL (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mMessageQueue Load (0.4ms)[0m  [1mSELECT `message_queues`.`id` FROM `message_queues` WHERE (`message_queues`.`user_id` = 65) AND (`message_queues`.id <> 3) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  COMMIT
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAREL (0.5ms)[0m  UPDATE `monitorings` SET `aasm_state` = 'failed', `updated_at` = '2011-11-11 17:00:37' WHERE (`monitorings`.`id` = 18)
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO `action_logs` (`user_id`, `logged_type`, `logged_id`, `updated_at`, `log_entry`, `created_at`) VALUES (41, 'Monitoring', 18, '2011-11-11 17:00:37', '{\"aasm_state\":[\"pending\",\"failed\"]}', '2011-11-11 17:00:37')[0m
  [1m[35mSQL (0.8ms)[0m  COMMIT
Redirected to http://localhost:3000/monitorings/18
Completed 302 Found in 760ms


Started GET "/monitorings/18" for 127.0.0.1 at Fri Nov 11 18:00:37 +0100 2011
  Processing by MonitoringsController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mSQL (1.7ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (`users`.`id` = 41) LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mdescribe `roles_users`[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 41 )
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:14)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:15)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:16)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:17)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/monitoring.rb:18)
  [1m[36mMonitoring Load (1.7ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1[0m
  [1m[35mAuditee Load (2.5ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.`id` = 47) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (`users`.`id` = 65) LIMIT 1[0m
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:3)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:4)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:5)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/non_conformity.rb:6)
  [1m[35mNonConformity Load (0.7ms)[0m  SELECT `non_conformities`.* FROM `non_conformities` WHERE (`non_conformities`.monitoring_id = 18)
DEPRECATION WARNING: before_validation_on_create is deprecated. Please use before_validation(arguments, :on => :create. (called from include at /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:12)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:22)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:23)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:25)
DEPRECATION WARNING: Base.named_scope has been deprecated, please use Base.scope instead. (called from /Users/ah/projects/gsmMonitoring/app/models/resolution_proposal.rb:26)
  [1m[36mResolutionProposal Load (0.5ms)[0m  [1mSELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 17) LIMIT 1[0m
  [1m[35mComment Count (94.8ms)[0m  select count(nc.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where nc.id = 16 and c.created_at > '2011-11-06 17:00:38'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id where nc.id = 16 and rp.updated_at > '2011-11-06 17:00:38'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1
  [1m[36mResolutionProposal Load (0.5ms)[0m  [1mSELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 16) LIMIT 1[0m
  [1m[35mComment Count (0.4ms)[0m  select count(nc.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where nc.id = 17 and c.created_at > '2011-11-06 17:00:38'
  [1m[36mResolutionProposal Count (0.3ms)[0m  [1mselect count(rp.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id where nc.id = 17 and rp.updated_at > '2011-11-06 17:00:38'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1
  [1m[36mComment Count (0.4ms)[0m  [1mselect count(nc.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id left join comments c on rp.id = c.resolution_proposal_id where nc.id = 27 and c.created_at > '2011-11-06 17:00:38'[0m
  [1m[35mResolutionProposal Count (0.2ms)[0m  select count(rp.id) from non_conformities nc left join resolution_proposals rp on nc.id = rp.non_conformity_id where nc.id = 27 and rp.updated_at > '2011-11-06 17:00:38'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `monitorings`.* FROM `monitorings` WHERE (`monitorings`.`id` = 18) LIMIT 1[0m
  [1m[35mResolutionProposal Load (0.4ms)[0m  SELECT `resolution_proposals`.* FROM `resolution_proposals` WHERE (`resolution_proposals`.non_conformity_id = 27) LIMIT 1
Rendered non_conformities/_index_table.html.erb (469.1ms)
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE (`clients`.user_id = 41) LIMIT 1[0m
  [1m[35mAuditee Load (0.3ms)[0m  SELECT `auditees`.* FROM `auditees` WHERE (`auditees`.user_id = 41) LIMIT 1
  [1m[36mComplianceOfficer Load (0.4ms)[0m  [1mSELECT `compliance_officers`.* FROM `compliance_officers` WHERE (`compliance_officers`.user_id = 41) LIMIT 1[0m
Rendered users/_user_bar.html.erb (41.0ms)
Rendered monitorings/show.html.erb within layouts/application (627.5ms)
Completed 200 OK in 958ms (Views: 537.6ms | ActiveRecord: 108.6ms)
Exiting
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/rack-1.2.3/lib/rack/handler/mongrel.rb:38:in `join'
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/rack-1.2.3/lib/rack/handler/mongrel.rb:38:in `run'
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/railties-3.0.3/lib/rails/commands/server.rb:65:in `start'
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/railties-3.0.3/lib/rails/commands.rb:30
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/railties-3.0.3/lib/rails/commands.rb:27:in `tap'
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/railties-3.0.3/lib/rails/commands.rb:27
	./script/rails:6:in `require'
	./script/rails:6
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/ruby-debug-ide-0.4.16/lib/ruby-debug-ide.rb:112:in `debug_load'
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/ruby-debug-ide-0.4.16/lib/ruby-debug-ide.rb:112:in `debug_program'
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/gems/ruby-debug-ide-0.4.16/bin/rdebug-ide:87
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19:in `load'
	/Users/ah/.rvm/gems/ree-1.8.7-2010.02@gsmMonitoringRails3/bin/rdebug-ide:19
Uncaught exception: SIGTERM
